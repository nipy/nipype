<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Neuroimaging in Python - Pipelines and Interfaces &mdash; nipy pipeline and interfaces package</title>
    
    <link rel="stylesheet" href="../../_static/nipype.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.11.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="top" title="nipy pipeline and interfaces package" href="../../index.html" />
 
<meta name="keywords" content="nipype, neuroimaging, pipeline, workflow, parallel, python, neuroscience">
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-339450-7', 'nipy.org/nipype');
  ga('send', 'pageview');
</script>

  </head>
  <body role="document">
<div class="header-wrapper">
    <div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
            <a href="../../index.html">
            <img src="../../_static/nipype-banner-bg.png" alt="NIPY logo"  border="0" />
        <div style="margin-top: 1em;
                border-top: 1px solid #AAA;
                border-bottom: 1px solid #AAA;
                border-radius: 5px;
                padding: 3px 1em;">
            <link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css" />
<style type="text/css">
    a.navbar {
    color: ;
    letter-spacing: .05em;
    font-weight: bold;
        }
</style>

<a class="navbar" href="../../index.html">Home</a> ·
<a class="navbar" href="../../quickstart.html">Quickstart</a> ·
<a class="navbar" href="../../documentation.html">Documentation</a> ·
<a class="navbar" href="../../about.html">Citation</a> ·
<a class="navbar" href="http://nipy.org">NiPy</a>

        </div>
    </div>
</div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<style type="text/css">
    input.gsc-input {
        border-color: #BCCDF0;
    }
    input.gsc-search-button {
        border-color: #666666;
        background-color: #CECECE;
        padding: 0;
    }
    div.sphinxsidebar .tile {
        border: 1px solid #D1DDE2;
        border-radius: 10px;
        background-color: #E1E8EC;
        padding-left: 0.5em;
        margin: 1em 0;
    }
    div.sphinxsidebar input[type="text"] {
        width: 100%;
    }
    div.sphinxsidebar input[type="submit"] {
        width: 100%;
    }
</style>

<div class="sidebarblock">
    <div id="cse-search-form">Loading</div>

    <script src="http://www.google.com/jsapi" type="text/javascript"></script>
    <script type="text/javascript">
        google.load('search', '1', {language : 'en'});
        google.setOnLoadCallback(function() {
            var customSearchControl = new google.search.CustomSearchControl(
                    '010960497803984932957:u8pmqf7fdoq');

            customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
            var options = new google.search.DrawOptions();
            options.enableSearchboxOnly("../../searchresults.html");
            customSearchControl.draw('cse-search-form', options);
        }, true);
    </script>
</div>

  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">workflows.dmri.fsl.utils</a><ul>
<li><a class="reference internal" href="#apply-all-corrections"><code class="docutils literal"><span class="pre">apply_all_corrections()</span></code></a><ul>
<li><a class="reference internal" href="#graph">Graph</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cleanup-edge-pipeline"><code class="docutils literal"><span class="pre">cleanup_edge_pipeline()</span></code></a><ul>
<li><a class="reference internal" href="#id1">Graph</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dwi-flirt"><code class="docutils literal"><span class="pre">dwi_flirt()</span></code></a><ul>
<li><a class="reference internal" href="#id2">Graph</a></li>
</ul>
</li>
<li><a class="reference internal" href="#vsm2warp"><code class="docutils literal"><span class="pre">vsm2warp()</span></code></a><ul>
<li><a class="reference internal" href="#id3">Graph</a></li>
</ul>
</li>
<li><a class="reference internal" href="#add-empty-vol"><code class="docutils literal"><span class="pre">add_empty_vol()</span></code></a></li>
<li><a class="reference internal" href="#b0-average"><code class="docutils literal"><span class="pre">b0_average()</span></code></a></li>
<li><a class="reference internal" href="#b0-indices"><code class="docutils literal"><span class="pre">b0_indices()</span></code></a></li>
<li><a class="reference internal" href="#compute-readout"><code class="docutils literal"><span class="pre">compute_readout()</span></code></a></li>
<li><a class="reference internal" href="#copy-hdr"><code class="docutils literal"><span class="pre">copy_hdr()</span></code></a></li>
<li><a class="reference internal" href="#demean-image"><code class="docutils literal"><span class="pre">demean_image()</span></code></a></li>
<li><a class="reference internal" href="#eddy-rotate-bvecs"><code class="docutils literal"><span class="pre">eddy_rotate_bvecs()</span></code></a></li>
<li><a class="reference internal" href="#enhance"><code class="docutils literal"><span class="pre">enhance()</span></code></a></li>
<li><a class="reference internal" href="#extract-bval"><code class="docutils literal"><span class="pre">extract_bval()</span></code></a></li>
<li><a class="reference internal" href="#hmc-split"><code class="docutils literal"><span class="pre">hmc_split()</span></code></a></li>
<li><a class="reference internal" href="#insert-mat"><code class="docutils literal"><span class="pre">insert_mat()</span></code></a></li>
<li><a class="reference internal" href="#rads2radsec"><code class="docutils literal"><span class="pre">rads2radsec()</span></code></a></li>
<li><a class="reference internal" href="#recompose-dwi"><code class="docutils literal"><span class="pre">recompose_dwi()</span></code></a></li>
<li><a class="reference internal" href="#recompose-xfm"><code class="docutils literal"><span class="pre">recompose_xfm()</span></code></a></li>
<li><a class="reference internal" href="#remove-comp"><code class="docutils literal"><span class="pre">remove_comp()</span></code></a></li>
<li><a class="reference internal" href="#reorient-bvecs"><code class="docutils literal"><span class="pre">reorient_bvecs()</span></code></a></li>
<li><a class="reference internal" href="#rotate-bvecs"><code class="docutils literal"><span class="pre">rotate_bvecs()</span></code></a></li>
<li><a class="reference internal" href="#siemens2rads"><code class="docutils literal"><span class="pre">siemens2rads()</span></code></a></li>
<li><a class="reference internal" href="#time-avg"><code class="docutils literal"><span class="pre">time_avg()</span></code></a></li>
</ul>
</li>
</ul>

<style type="text/css">
    div.sphinxsidebar .tile {
        border: 1px solid #D1DDE2;
        border-radius: 10px;
        background-color: #E1E8EC;
        padding-left: 0.5em;
        margin: 1em 0;
    }
</style>
<div class="sidebarblock">
    <h3>Versions</h3>

    <div class="tile">
        <table style="width: 100%;">
            <tr style="font-weight: bold;">
                <td align="left">Release</td><td align="right">Devel</td>
            </tr>
            <tr>
                <td align="left">0.11.0</td><td align="right">0.11.0</td>
            </tr>
            <tr>
                <td align="left"><a href="../../users/install.html">Download</a></td>
                <td align="right"><a href="https://github.com/nipy/nipype">Github</a></td>
            </tr>
        </table>
    </div>

    <div id="buttons">
        <div id="ohloh-use" style="margin-right: 25px; margin-top: -2px; float: left;">
            <script type="text/javascript"
                    src="https://www.openhub.net/p/480871/widgets/project_users_logo.js">
            </script>
        </div><!-- use -->
        <g:plusone size="medium" annotation="none"></g:plusone>
        <div class="clear"></div>
    </div><!-- buttons container -->
</div>


<script type="text/javascript">
    (function() {
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
</script>

<h3>Links</h3>

<ul>
    <li>Docs: <a href="http://nipy.org/nipype">Stable</a> · <a href="http://www.mit.edu/~satra/nipype-nightly/">Nightly</a></li>
    <li>Code: <a href="http://github.com/nipy/nipype">Github</a> · <a href="http://github.com/nipy/nipype/issues">Bugs-Requests</a></li>
    <li>Forum: <a href="http://neurostars.org/t/nipype">User</a> · <a href="http://projects.scipy.org/mailman/listinfo/nipy-devel">Developer</a></li>
    <li><a href="http://nipy.org/software/license/index.html"><img src="https://img.shields.io/pypi/l/nipype.svg" alt="License"></a> · <a href="http://nipy.org/about/funding.html">Funding</a></li>
    <li><a href="https://travis-ci.org/nipy/nipype"><img src="https://travis-ci.org/nipy/nipype.png?branch=master" alt="travis"></a> · <a href='https://coveralls.io/r/nipy/nipype'><img src='https://coveralls.io/repos/nipy/nipype/badge.png' alt='Coverage Status' /></a></li>
    <li><a href="https://pypi.python.org/pypi/nipype/"><img src="https://img.shields.io/pypi/dm/nipype.svg" alt="Downloads"></a> · <a href='https://pypi.python.org/pypi/nipype/'><img src='https://img.shields.io/pypi/pyversions/nipype.svg' alt='Python Versions' /></a></li>
</ul>


        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-nipype.workflows.dmri.fsl.utils">
<span id="workflows-dmri-fsl-utils"></span><h1>workflows.dmri.fsl.utils<a class="headerlink" href="#module-nipype.workflows.dmri.fsl.utils" title="Permalink to this headline">¶</a></h1>
<div class="section" id="apply-all-corrections">
<span id="nipype-workflows-dmri-fsl-utils-apply-all-corrections"></span><h2><code class="xref py py-func docutils literal"><span class="pre">apply_all_corrections()</span></code><a class="headerlink" href="#apply-all-corrections" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L136">Link to code</a></p>
<p>Combines two lists of linear transforms with the deformation field
map obtained typically after the SDC process.
Additionally, computes the corresponding bspline coefficients and
the map of determinants of the jacobian.</p>
<div class="section" id="graph">
<h3>Graph<a class="headerlink" href="#graph" title="Permalink to this headline">¶</a></h3>
<p class="graphviz">
<img src="../../_images/graphviz-690175e3113c63034325a859fdd3b6eabff18880.png" alt="digraph UnwarpArtifacts{

  label=&quot;UnwarpArtifacts&quot;;

  UnwarpArtifacts_inputnode[label=&quot;inputnode (utility)&quot;];

  UnwarpArtifacts_SplitDWIs[label=&quot;SplitDWIs (fsl)&quot;];

  UnwarpArtifacts_Reference[label=&quot;Reference (utility)&quot;];

  UnwarpArtifacts_ConvertWarp[label=&quot;ConvertWarp (fsl)&quot;];

  UnwarpArtifacts_CoeffComp[label=&quot;CoeffComp (fsl)&quot;];

  UnwarpArtifacts_JacobianComp[label=&quot;JacobianComp (fsl)&quot;];

  UnwarpArtifacts_UnwarpDWIs[label=&quot;UnwarpDWIs (fsl)&quot;];

  UnwarpArtifacts_ModulateDWIs[label=&quot;ModulateDWIs (fsl)&quot;];

  UnwarpArtifacts_RemoveNegative[label=&quot;RemoveNegative (fsl)&quot;];

  UnwarpArtifacts_MergeDWIs[label=&quot;MergeDWIs (fsl)&quot;];

  UnwarpArtifacts_outputnode[label=&quot;outputnode (utility)&quot;];

  UnwarpArtifacts_inputnode -&gt; UnwarpArtifacts_ConvertWarp;

  UnwarpArtifacts_inputnode -&gt; UnwarpArtifacts_ConvertWarp;

  UnwarpArtifacts_inputnode -&gt; UnwarpArtifacts_ConvertWarp;

  UnwarpArtifacts_inputnode -&gt; UnwarpArtifacts_ConvertWarp;

  UnwarpArtifacts_inputnode -&gt; UnwarpArtifacts_SplitDWIs;

  UnwarpArtifacts_SplitDWIs -&gt; UnwarpArtifacts_Reference;

  UnwarpArtifacts_SplitDWIs -&gt; UnwarpArtifacts_UnwarpDWIs;

  UnwarpArtifacts_Reference -&gt; UnwarpArtifacts_CoeffComp;

  UnwarpArtifacts_Reference -&gt; UnwarpArtifacts_UnwarpDWIs;

  UnwarpArtifacts_Reference -&gt; UnwarpArtifacts_JacobianComp;

  UnwarpArtifacts_ConvertWarp -&gt; UnwarpArtifacts_CoeffComp;

  UnwarpArtifacts_ConvertWarp -&gt; UnwarpArtifacts_UnwarpDWIs;

  UnwarpArtifacts_ConvertWarp -&gt; UnwarpArtifacts_outputnode;

  UnwarpArtifacts_CoeffComp -&gt; UnwarpArtifacts_JacobianComp;

  UnwarpArtifacts_CoeffComp -&gt; UnwarpArtifacts_outputnode;

  UnwarpArtifacts_JacobianComp -&gt; UnwarpArtifacts_ModulateDWIs;

  UnwarpArtifacts_JacobianComp -&gt; UnwarpArtifacts_outputnode;

  UnwarpArtifacts_UnwarpDWIs -&gt; UnwarpArtifacts_ModulateDWIs;

  UnwarpArtifacts_ModulateDWIs -&gt; UnwarpArtifacts_RemoveNegative;

  UnwarpArtifacts_RemoveNegative -&gt; UnwarpArtifacts_MergeDWIs;

  UnwarpArtifacts_MergeDWIs -&gt; UnwarpArtifacts_outputnode;

}" />
</p>
</div>
</div>
<div class="section" id="cleanup-edge-pipeline">
<span id="nipype-workflows-dmri-fsl-utils-cleanup-edge-pipeline"></span><h2><code class="xref py py-func docutils literal"><span class="pre">cleanup_edge_pipeline()</span></code><a class="headerlink" href="#cleanup-edge-pipeline" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L11">Link to code</a></p>
<p>Perform some de-spiking filtering to clean up the edge of the fieldmap
(copied from fsl_prepare_fieldmap)</p>
<div class="section" id="id1">
<h3>Graph<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p class="graphviz">
<img src="../../_images/graphviz-010f3770151539a453b2bc1379bba5df535752b4.png" alt="digraph Cleanup{

  label=&quot;Cleanup&quot;;

  Cleanup_inputnode[label=&quot;inputnode (utility)&quot;];

  Cleanup_MskErode[label=&quot;MskErode (fsl)&quot;];

  Cleanup_Despike[label=&quot;Despike (fsl)&quot;];

  Cleanup_NewMask[label=&quot;NewMask (fsl)&quot;];

  Cleanup_ApplyMask[label=&quot;ApplyMask (fsl)&quot;];

  Cleanup_Merge[label=&quot;Merge (utility)&quot;];

  Cleanup_AddEdge[label=&quot;AddEdge (fsl)&quot;];

  Cleanup_outputnode[label=&quot;outputnode (utility)&quot;];

  Cleanup_inputnode -&gt; Cleanup_NewMask;

  Cleanup_inputnode -&gt; Cleanup_Despike;

  Cleanup_inputnode -&gt; Cleanup_Despike;

  Cleanup_inputnode -&gt; Cleanup_AddEdge;

  Cleanup_inputnode -&gt; Cleanup_MskErode;

  Cleanup_MskErode -&gt; Cleanup_NewMask;

  Cleanup_MskErode -&gt; Cleanup_Merge;

  Cleanup_Despike -&gt; Cleanup_ApplyMask;

  Cleanup_NewMask -&gt; Cleanup_ApplyMask;

  Cleanup_ApplyMask -&gt; Cleanup_Merge;

  Cleanup_Merge -&gt; Cleanup_AddEdge;

  Cleanup_AddEdge -&gt; Cleanup_outputnode;

}" />
</p>
</div>
</div>
<div class="section" id="dwi-flirt">
<span id="nipype-workflows-dmri-fsl-utils-dwi-flirt"></span><h2><code class="xref py py-func docutils literal"><span class="pre">dwi_flirt()</span></code><a class="headerlink" href="#dwi-flirt" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L79">Link to code</a></p>
<p>Generates a workflow for linear registration of dwi volumes</p>
<div class="section" id="id2">
<h3>Graph<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p class="graphviz">
<img src="../../_images/graphviz-0d931e8169e11d33949271a82f856630a7b86e70.png" alt="digraph DWICoregistration{

  label=&quot;DWICoregistration&quot;;

  DWICoregistration_inputnode[label=&quot;inputnode (utility)&quot;];

  DWICoregistration_Bias[label=&quot;Bias (ants)&quot;];

  DWICoregistration_InitXforms[label=&quot;InitXforms (utility)&quot;];

  DWICoregistration_B0Equalize[label=&quot;B0Equalize (utility)&quot;];

  DWICoregistration_MskDilate[label=&quot;MskDilate (fsl)&quot;];

  DWICoregistration_SplitDWIs[label=&quot;SplitDWIs (fsl)&quot;];

  DWICoregistration_DWEqualize[label=&quot;DWEqualize (utility)&quot;];

  DWICoregistration_CoRegistration[label=&quot;CoRegistration (fsl)&quot;];

  DWICoregistration_RemoveNegative[label=&quot;RemoveNegative (fsl)&quot;];

  DWICoregistration_MergeDWIs[label=&quot;MergeDWIs (fsl)&quot;];

  DWICoregistration_outputnode[label=&quot;outputnode (utility)&quot;];

  DWICoregistration_inputnode -&gt; DWICoregistration_SplitDWIs;

  DWICoregistration_inputnode -&gt; DWICoregistration_Bias;

  DWICoregistration_inputnode -&gt; DWICoregistration_Bias;

  DWICoregistration_inputnode -&gt; DWICoregistration_MskDilate;

  DWICoregistration_inputnode -&gt; DWICoregistration_InitXforms;

  DWICoregistration_inputnode -&gt; DWICoregistration_InitXforms;

  DWICoregistration_inputnode -&gt; DWICoregistration_B0Equalize;

  DWICoregistration_Bias -&gt; DWICoregistration_B0Equalize;

  DWICoregistration_InitXforms -&gt; DWICoregistration_CoRegistration;

  DWICoregistration_B0Equalize -&gt; DWICoregistration_CoRegistration;

  DWICoregistration_MskDilate -&gt; DWICoregistration_DWEqualize;

  DWICoregistration_MskDilate -&gt; DWICoregistration_CoRegistration;

  DWICoregistration_MskDilate -&gt; DWICoregistration_CoRegistration;

  DWICoregistration_SplitDWIs -&gt; DWICoregistration_DWEqualize;

  DWICoregistration_DWEqualize -&gt; DWICoregistration_CoRegistration;

  DWICoregistration_CoRegistration -&gt; DWICoregistration_RemoveNegative;

  DWICoregistration_CoRegistration -&gt; DWICoregistration_outputnode;

  DWICoregistration_RemoveNegative -&gt; DWICoregistration_MergeDWIs;

  DWICoregistration_MergeDWIs -&gt; DWICoregistration_outputnode;

}" />
</p>
</div>
</div>
<div class="section" id="vsm2warp">
<span id="nipype-workflows-dmri-fsl-utils-vsm2warp"></span><h2><code class="xref py py-func docutils literal"><span class="pre">vsm2warp()</span></code><a class="headerlink" href="#vsm2warp" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L50">Link to code</a></p>
<p>Converts a voxel shift map (vsm) to a displacements field (warp).</p>
<div class="section" id="id3">
<h3>Graph<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p class="graphviz">
<img src="../../_images/graphviz-bc72e0950e069d9bdc172820d094164d68745b5e.png" alt="digraph Shiftmap2Warping{

  label=&quot;Shiftmap2Warping&quot;;

  Shiftmap2Warping_inputnode[label=&quot;inputnode (utility)&quot;];

  Shiftmap2Warping_Fix_hdr[label=&quot;Fix_hdr (utility)&quot;];

  Shiftmap2Warping_ScaleField[label=&quot;ScaleField (fsl)&quot;];

  Shiftmap2Warping_vsm2dfm[label=&quot;vsm2dfm (fsl)&quot;];

  Shiftmap2Warping_outputnode[label=&quot;outputnode (utility)&quot;];

  Shiftmap2Warping_inputnode -&gt; Shiftmap2Warping_ScaleField;

  Shiftmap2Warping_inputnode -&gt; Shiftmap2Warping_Fix_hdr;

  Shiftmap2Warping_inputnode -&gt; Shiftmap2Warping_Fix_hdr;

  Shiftmap2Warping_inputnode -&gt; Shiftmap2Warping_vsm2dfm;

  Shiftmap2Warping_inputnode -&gt; Shiftmap2Warping_vsm2dfm;

  Shiftmap2Warping_Fix_hdr -&gt; Shiftmap2Warping_ScaleField;

  Shiftmap2Warping_ScaleField -&gt; Shiftmap2Warping_vsm2dfm;

  Shiftmap2Warping_vsm2dfm -&gt; Shiftmap2Warping_outputnode;

}" />
</p>
</div>
</div>
<div class="section" id="add-empty-vol">
<span id="nipype-workflows-dmri-fsl-utils-add-empty-vol"></span><h2><code class="xref py py-func docutils literal"><span class="pre">add_empty_vol()</span></code><a class="headerlink" href="#add-empty-vol" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L664">Link to code</a></p>
<p>Adds an empty vol to the phase difference image</p>
</div>
<div class="section" id="b0-average">
<span id="nipype-workflows-dmri-fsl-utils-b0-average"></span><h2><code class="xref py py-func docutils literal"><span class="pre">b0_average()</span></code><a class="headerlink" href="#b0-average" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L429">Link to code</a></p>
<p>A function that averages the <em>b0</em> volumes from a DWI dataset.
As current dMRI data are being acquired with all b-values &gt; 0.0,
the <em>lowb</em> volumes are selected by specifying the parameter max_b.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last"><em>b0</em> should be already registered (head motion artifact should
be corrected).</p>
</div>
</div>
<div class="section" id="b0-indices">
<span id="nipype-workflows-dmri-fsl-utils-b0-indices"></span><h2><code class="xref py py-func docutils literal"><span class="pre">b0_indices()</span></code><a class="headerlink" href="#b0-indices" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L420">Link to code</a></p>
<p>Extract the indices of slices in a b-values file with a low b value</p>
</div>
<div class="section" id="compute-readout">
<span id="nipype-workflows-dmri-fsl-utils-compute-readout"></span><h2><code class="xref py py-func docutils literal"><span class="pre">compute_readout()</span></code><a class="headerlink" href="#compute-readout" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L551">Link to code</a></p>
<p>Computes readout time from epi params (see <a class="reference external" href="http://fsl.fmrib.ox.ac.uk/fsl/fslwiki/EDDY/Faq#How_do_I_know_what_to_put_into_my_--acqp_file.3F">eddy documentation</a>).</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last"><code class="docutils literal"><span class="pre">params['echospacing']</span></code> should be in <em>sec</em> units.</p>
</div>
</div>
<div class="section" id="copy-hdr">
<span id="nipype-workflows-dmri-fsl-utils-copy-hdr"></span><h2><code class="xref py py-func docutils literal"><span class="pre">copy_hdr()</span></code><a class="headerlink" href="#copy-hdr" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L715">Link to code</a></p>
</div>
<div class="section" id="demean-image">
<span id="nipype-workflows-dmri-fsl-utils-demean-image"></span><h2><code class="xref py py-func docutils literal"><span class="pre">demean_image()</span></code><a class="headerlink" href="#demean-image" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L633">Link to code</a></p>
<p>Demean image data inside mask</p>
</div>
<div class="section" id="eddy-rotate-bvecs">
<span id="nipype-workflows-dmri-fsl-utils-eddy-rotate-bvecs"></span><h2><code class="xref py py-func docutils literal"><span class="pre">eddy_rotate_bvecs()</span></code><a class="headerlink" href="#eddy-rotate-bvecs" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L501">Link to code</a></p>
<p>Rotates the input bvec file accordingly with a list of parameters sourced
from <code class="docutils literal"><span class="pre">eddy</span></code>, as explained <a class="reference external" href="http://fsl.fmrib.ox.ac.uk/fsl/fslwiki/EDDY/Faq#Will_eddy_rotate_my_bevcs_for_me.3F">here</a>.</p>
</div>
<div class="section" id="enhance">
<span id="nipype-workflows-dmri-fsl-utils-enhance"></span><h2><code class="xref py py-func docutils literal"><span class="pre">enhance()</span></code><a class="headerlink" href="#enhance" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L737">Link to code</a></p>
</div>
<div class="section" id="extract-bval">
<span id="nipype-workflows-dmri-fsl-utils-extract-bval"></span><h2><code class="xref py py-func docutils literal"><span class="pre">extract_bval()</span></code><a class="headerlink" href="#extract-bval" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L197">Link to code</a></p>
<p>Writes an image containing only the volumes with b-value specified at
input</p>
</div>
<div class="section" id="hmc-split">
<span id="nipype-workflows-dmri-fsl-utils-hmc-split"></span><h2><code class="xref py py-func docutils literal"><span class="pre">hmc_split()</span></code><a class="headerlink" href="#hmc-split" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L232">Link to code</a></p>
<p>Selects the reference and moving volumes from a dwi dataset
for the purpose of HMC.</p>
</div>
<div class="section" id="insert-mat">
<span id="nipype-workflows-dmri-fsl-utils-insert-mat"></span><h2><code class="xref py py-func docutils literal"><span class="pre">insert_mat()</span></code><a class="headerlink" href="#insert-mat" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L316">Link to code</a></p>
</div>
<div class="section" id="rads2radsec">
<span id="nipype-workflows-dmri-fsl-utils-rads2radsec"></span><h2><code class="xref py py-func docutils literal"><span class="pre">rads2radsec()</span></code><a class="headerlink" href="#rads2radsec" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L611">Link to code</a></p>
<p>Converts input phase difference map to rads</p>
</div>
<div class="section" id="recompose-dwi">
<span id="nipype-workflows-dmri-fsl-utils-recompose-dwi"></span><h2><code class="xref py py-func docutils literal"><span class="pre">recompose_dwi()</span></code><a class="headerlink" href="#recompose-dwi" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L326">Link to code</a></p>
<p>Recompose back the dMRI data accordingly the b-values table after EC
correction</p>
</div>
<div class="section" id="recompose-xfm">
<span id="nipype-workflows-dmri-fsl-utils-recompose-xfm"></span><h2><code class="xref py py-func docutils literal"><span class="pre">recompose_xfm()</span></code><a class="headerlink" href="#recompose-xfm" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L359">Link to code</a></p>
<p>Insert identity transformation matrices in b0 volumes to build up a list</p>
</div>
<div class="section" id="remove-comp">
<span id="nipype-workflows-dmri-fsl-utils-remove-comp"></span><h2><code class="xref py py-func docutils literal"><span class="pre">remove_comp()</span></code><a class="headerlink" href="#remove-comp" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L278">Link to code</a></p>
<p>Removes the volume <code class="docutils literal"><span class="pre">volid</span></code> from the 4D nifti file</p>
</div>
<div class="section" id="reorient-bvecs">
<span id="nipype-workflows-dmri-fsl-utils-reorient-bvecs"></span><h2><code class="xref py py-func docutils literal"><span class="pre">reorient_bvecs()</span></code><a class="headerlink" href="#reorient-bvecs" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L686">Link to code</a></p>
<p>Checks reorientations of <code class="docutils literal"><span class="pre">in_dwi</span></code> w.r.t. <code class="docutils literal"><span class="pre">old_dwi</span></code> and
reorients the in_bvec table accordingly.</p>
</div>
<div class="section" id="rotate-bvecs">
<span id="nipype-workflows-dmri-fsl-utils-rotate-bvecs"></span><h2><code class="xref py py-func docutils literal"><span class="pre">rotate_bvecs()</span></code><a class="headerlink" href="#rotate-bvecs" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L464">Link to code</a></p>
<p>Rotates the input bvec file accordingly with a list of matrices.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the input affine matrix transforms points in the destination
image to their corresponding coordinates in the original image.
Therefore, this matrix should be inverted first, as we want to know
the target position of <span class="math">\vec{r}</span>.</p>
</div>
</div>
<div class="section" id="siemens2rads">
<span id="nipype-workflows-dmri-fsl-utils-siemens2rads"></span><h2><code class="xref py py-func docutils literal"><span class="pre">siemens2rads()</span></code><a class="headerlink" href="#siemens2rads" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L575">Link to code</a></p>
<p>Converts input phase difference map to rads</p>
</div>
<div class="section" id="time-avg">
<span id="nipype-workflows-dmri-fsl-utils-time-avg"></span><h2><code class="xref py py-func docutils literal"><span class="pre">time_avg()</span></code><a class="headerlink" href="#time-avg" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/f9c98ba/nipype/workflows/dmri/fsl/utils.py#L384">Link to code</a></p>
<p>Average the input time-series, selecting the indices given in index</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">time steps should be already registered (corrected for
head motion artifacts).</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2009-15, Neuroimaging in Python team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
</div>

  </body>
</html>