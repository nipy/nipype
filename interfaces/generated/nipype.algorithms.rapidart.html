<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Neuroimaging in Python - Pipelines and Interfaces &mdash; nipy pipeline and interfaces package</title>
    
    <link rel="stylesheet" href="../../_static/nipype.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0.0dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="top" title="nipy pipeline and interfaces package" href="../../index.html" />
 
<meta name="keywords" content="nipype, neuroimaging, pipeline, workflow, parallel, python, neuroscience">
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-339450-7', 'nipy.org/nipype');
  ga('send', 'pageview');
</script>

  </head>
  <body>
<div class="header-wrapper">
    <div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
            <a href="../../index.html">
            <img src="../../_static/nipype-banner-bg.png" alt="NIPY logo"  border="0" />
        <div style="margin-top: 1em;
                border-top: 1px solid #AAA;
                border-bottom: 1px solid #AAA;
                border-radius: 5px;
                padding: 3px 1em;">
            <link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css" />
<style type="text/css">
    a.navbar {
    color: ;
    letter-spacing: .05em;
    font-weight: bold;
        }
</style>

<a class="navbar" href="../../index.html">Home</a> ·
<a class="navbar" href="../../quickstart.html">Quickstart</a> ·
<a class="navbar" href="../../documentation.html">Documentation</a> ·
<a class="navbar" href="../../about.html">Citation</a> ·
<a class="navbar" href="http://nipy.org">NiPy</a>

        </div>
    </div>
</div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<style type="text/css">
    input.gsc-input {
        border-color: #BCCDF0;
    }
    input.gsc-search-button {
        border-color: #666666;
        background-color: #CECECE;
        padding: 0;
    }
    div.sphinxsidebar .tile {
        border: 1px solid #D1DDE2;
        border-radius: 10px;
        background-color: #E1E8EC;
        padding-left: 0.5em;
        margin: 1em 0;
    }
    div.sphinxsidebar input[type="text"] {
        width: 100%;
    }
    div.sphinxsidebar input[type="submit"] {
        width: 100%;
    }
</style>

<div class="sidebarblock">
    <div id="cse-search-form">Loading</div>

    <script src="http://www.google.com/jsapi" type="text/javascript"></script>
    <script type="text/javascript">
        google.load('search', '1', {language : 'en'});
        google.setOnLoadCallback(function() {
            var customSearchControl = new google.search.CustomSearchControl(
                    '010960497803984932957:u8pmqf7fdoq');

            customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
            var options = new google.search.DrawOptions();
            options.enableSearchboxOnly("../../searchresults.html");
            customSearchControl.draw('cse-search-form', options);
        }, true);
    </script>
</div>

  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">algorithms.rapidart</a><ul>
<li><a class="reference internal" href="#artifactdetect">ArtifactDetect</a><ul>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#stimuluscorrelation">StimulusCorrelation</a><ul>
<li><a class="reference internal" href="#id1">Examples</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<style type="text/css">
    div.sphinxsidebar .tile {
        border: 1px solid #D1DDE2;
        border-radius: 10px;
        background-color: #E1E8EC;
        padding-left: 0.5em;
        margin: 1em 0;
    }
</style>
<div class="sidebarblock">
    <h3>Versions</h3>

    <div class="tile">
        <table style="width: 100%;">
            <tr style="font-weight: bold;">
                <td align="left">Release</td><td align="right">Devel</td>
            </tr>
            <tr>
                <td align="left">0.10.0</td><td align="right">1.0-dev</td>
            </tr>
            <tr>
                <td align="left"><a href="../../users/install.html">Download</a></td>
                <td align="right"><a href="https://github.com/nipy/nipype">Github</a></td>
            </tr>
        </table>
    </div>

    <div id="buttons">
        <div id="ohloh-use" style="margin-right: 25px; margin-top: -2px; float: left;">
            <script type="text/javascript"
                    src="http://www.ohloh.net/p/480871/widgets/project_users_logo.js">
            </script>
        </div><!-- use -->
        <g:plusone size="medium" annotation="none"></g:plusone>
        <div class="clear"></div>
    </div><!-- buttons container -->
</div>


<script type="text/javascript">
    (function() {
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
</script>

<h3>Links</h3>

<ul>
    <li>Docs: <a href="http://nipy.org/nipype">Stable</a> · <a href="http://www.mit.edu/~satra/nipype-nightly/">Nightly</a></li>
    <li>Code: <a href="http://github.com/nipy/nipype">Github</a> · <a href="http://github.com/nipy/nipype/issues">Bugs-Requests</a></li>
    <li>Forum: <a href="http://neurostars.org/t/nipype">User</a> · <a href="http://projects.scipy.org/mailman/listinfo/nipy-devel">Developer</a></li>
    <li><a href="http://nipy.org/software/license/index.html"><img src="https://pypip.in/license/nipype/badge.png" alt="License"></a> · <a href="http://nipy.org/about/funding.html">Funding</a></li>
    <li><a href="https://travis-ci.org/nipy/nipype"><img src="https://travis-ci.org/nipy/nipype.png?branch=master" alt="travis"></a> · <a href='https://coveralls.io/r/nipy/nipype'><img src='https://coveralls.io/repos/nipy/nipype/badge.png' alt='Coverage Status' /></a></li>
    <li><a href="https://pypi.python.org/pypi/nipype/"><img src="https://pypip.in/download/nipype/badge.png" alt="Downloads"></a> · <a href='https://pypi.python.org/pypi/nipype/'><img src='https://pypip.in/py_versions/nipype/badge.png' alt='Python Versions' /></a></li>
</ul>


        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="algorithms-rapidart">
<h1>algorithms.rapidart<a class="headerlink" href="#algorithms-rapidart" title="Permalink to this headline">¶</a></h1>
<span class="target" id="nipype-algorithms-rapidart-artifactdetect"></span><div class="section" id="artifactdetect">
<span id="index-0"></span><h2>ArtifactDetect<a class="headerlink" href="#artifactdetect" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/3444b7588a1dea15675dc8a4f5be5f8b753adbd8/nipype/algorithms/rapidart.py#L245">Link to code</a></p>
<p>Detects outliers in a functional imaging series</p>
<p>Uses intensity and motion parameters to infer outliers. If <cite>use_norm</cite> is
True, it computes the movement of the center of each face a cuboid centered
around the head and returns the maximal movement across the centers.</p>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span> <span class="o">=</span> <span class="n">ArtifactDetect</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">realigned_files</span> <span class="o">=</span> <span class="s">&#39;functional.nii&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">realignment_parameters</span> <span class="o">=</span> <span class="s">&#39;functional.par&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">parameter_source</span> <span class="o">=</span> <span class="s">&#39;FSL&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">norm_threshold</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">use_differences</span> <span class="o">=</span> <span class="p">[</span><span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">zintensity_threshold</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ad</span><span class="o">.</span><span class="n">run</span><span class="p">()</span> 
</pre></div>
</div>
<p>Inputs:</p>
<div class="highlight-python"><div class="highlight"><pre>[Mandatory]
mask_type: (&#39;spm_global&#39; or &#39;file&#39; or &#39;thresh&#39;)
        Type of mask that should be used to mask the functional data.
        *spm_global* uses an spm_global like calculation to determine the
        brain mask. *file* specifies a brain mask file (should be an image
        file consisting of 0s and 1s). *thresh* specifies a threshold to
        use. By default all voxelsare used, unless one of these mask types
        are defined.
norm_threshold: (a float)
        Threshold to use to detect motion-related outliers when composite
        motion is being used
        mutually_exclusive: rotation_threshold, translation_threshold
parameter_source: (&#39;SPM&#39; or &#39;FSL&#39; or &#39;AFNI&#39; or &#39;NiPy&#39; or &#39;FSFAST&#39;)
        Source of movement parameters
realigned_files: (a list of items which are an existing file name)
        Names of realigned functional data files
realignment_parameters: (a list of items which are an existing file
         name)
        Names of realignment parameterscorresponding to the functional data
        files
rotation_threshold: (a float)
        Threshold (in radians) to use to detect rotation-related outliers
        mutually_exclusive: norm_threshold
translation_threshold: (a float)
        Threshold (in mm) to use to detect translation-related outliers
        mutually_exclusive: norm_threshold
zintensity_threshold: (a float)
        Intensity Z-threshold use to detection images that deviate from the
        mean

[Optional]
bound_by_brainmask: (a boolean, nipype default value: False)
        use the brain mask to determine bounding boxfor composite norm
        (worksfor SPM and Nipy - currentlyinaccurate for FSL, AFNI
global_threshold: (a float, nipype default value: 8.0)
        use this threshold when mask type equal&#39;s spm_global
ignore_exception: (a boolean, nipype default value: False)
        Print an error message instead of throwing an exception in case the
        interface fails to run
intersect_mask: (a boolean)
        Intersect the masks when computed from spm_global.
mask_file: (an existing file name)
        Mask file to be used if mask_type is &#39;file&#39;.
mask_threshold: (a float)
        Mask threshold to be used if mask_type is &#39;thresh&#39;.
plot_type: (&#39;png&#39; or &#39;svg&#39; or &#39;eps&#39; or &#39;pdf&#39;, nipype default value:
         png)
        file type of the outlier plot
save_plot: (a boolean, nipype default value: True)
        save plots containing outliers
use_differences: (a list of items which are an implementor of, or can
         be adapted to implement, bool or None, nipype default value: [True,
         False])
        Use differences between successive motion (first element)and
        intensity paramter (second element) estimates in orderto determine
        outliers. (default is [True, False])
use_norm: (a boolean, nipype default value: True)
        Uses a composite of the motion parameters in order to determine
        outliers.
        requires: norm_threshold
</pre></div>
</div>
<p>Outputs:</p>
<div class="highlight-python"><div class="highlight"><pre>displacement_files: (a list of items which are a file name)
        One image file for each functional run containing the
        voxeldisplacement timeseries
intensity_files: (a list of items which are an existing file name)
        One file for each functional run containing the global intensity
        values determined from the brainmask
mask_files: (a list of items which are a file name)
        One image file for each functional run containing the maskused for
        global signal calculation
norm_files: (a list of items which are a file name)
        One file for each functional run containing the composite norm
outlier_files: (a list of items which are an existing file name)
        One file for each functional run containing a list of 0-based
        indices corresponding to outlier volumes
plot_files: (a list of items which are a file name)
        One image file for each functional run containing the detected
        outliers
statistic_files: (a list of items which are an existing file name)
        One file for each functional run containing information about the
        different types of artifacts and if design info is provided then
        details of stimulus correlated motion and a listing or artifacts by
        event type.
</pre></div>
</div>
<span class="target" id="nipype-algorithms-rapidart-stimuluscorrelation"></span></div>
</div>
<div class="section" id="stimuluscorrelation">
<span id="index-1"></span><h2>StimulusCorrelation<a class="headerlink" href="#stimuluscorrelation" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/3444b7588a1dea15675dc8a4f5be5f8b753adbd8/nipype/algorithms/rapidart.py#L561">Link to code</a></p>
<p>Determines if stimuli are correlated with motion or intensity
parameters.</p>
<p>Currently this class supports an SPM generated design matrix and requires
intensity parameters. This implies that one must run
<a class="reference internal" href="#nipype-algorithms-rapidart-artifactdetect"><em>ArtifactDetect</em></a>
and <a class="reference internal" href="nipype.interfaces.spm.model.html#nipype-interfaces-spm-model-level1design"><em>Level1Design</em></a> prior to running this or
provide an SPM.mat file and intensity parameters through some other means.</p>
<div class="section" id="id1">
<h3>Examples<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">StimulusCorrelation</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">realignment_parameters</span> <span class="o">=</span> <span class="s">&#39;functional.par&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">intensity_values</span> <span class="o">=</span> <span class="s">&#39;functional.rms&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">spm_mat_file</span> <span class="o">=</span> <span class="s">&#39;SPM.mat&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">concatenated_design</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">run</span><span class="p">()</span> 
</pre></div>
</div>
<p>Inputs:</p>
<div class="highlight-python"><div class="highlight"><pre>[Mandatory]
concatenated_design: (a boolean)
        state if the design matrix contains concatenated sessions
intensity_values: (a list of items which are an existing file name)
        Name of file containing intensity values
realignment_parameters: (a list of items which are an existing file
         name)
        Names of realignment parameters corresponding to the functional data
        files
spm_mat_file: (an existing file name)
        SPM mat file (use pre-estimate SPM.mat file)

[Optional]
ignore_exception: (a boolean, nipype default value: False)
        Print an error message instead of throwing an exception in case the
        interface fails to run
</pre></div>
</div>
<p>Outputs:</p>
<div class="highlight-python"><div class="highlight"><pre>stimcorr_files: (a list of items which are an existing file name)
        List of files containing correlation values
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
        &copy; Copyright 2009-14, Neuroimaging in Python team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
</div>

  </body>
</html>