<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Neuroimaging in Python - Pipelines and Interfaces &mdash; nipy pipeline and interfaces package</title>
    
    <link rel="stylesheet" href="../../_static/nipype.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0.0dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="top" title="nipy pipeline and interfaces package" href="../../index.html" />
 
<meta name="keywords" content="nipype, neuroimaging, pipeline, workflow, parallel, python, neuroscience">
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-339450-7', 'nipy.org/nipype');
  ga('send', 'pageview');
</script>

  </head>
  <body>
<div class="header-wrapper">
    <div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
            <a href="../../index.html">
            <img src="../../_static/nipype-banner-bg.png" alt="NIPY logo"  border="0" />
        <div style="margin-top: 1em;
                border-top: 1px solid #AAA;
                border-bottom: 1px solid #AAA;
                border-radius: 5px;
                padding: 3px 1em;">
            <link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css" />
<style type="text/css">
    a.navbar {
    color: ;
    letter-spacing: .05em;
    font-weight: bold;
        }
</style>

<a class="navbar" href="../../index.html">Home</a> ·
<a class="navbar" href="../../quickstart.html">Quickstart</a> ·
<a class="navbar" href="../../documentation.html">Documentation</a> ·
<a class="navbar" href="../../about.html">Citation</a> ·
<a class="navbar" href="http://nipy.org">NiPy</a>

        </div>
    </div>
</div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<style type="text/css">
    input.gsc-input {
        border-color: #BCCDF0;
    }
    input.gsc-search-button {
        border-color: #666666;
        background-color: #CECECE;
        padding: 0;
    }
    div.sphinxsidebar .tile {
        border: 1px solid #D1DDE2;
        border-radius: 10px;
        background-color: #E1E8EC;
        padding-left: 0.5em;
        margin: 1em 0;
    }
    div.sphinxsidebar input[type="text"] {
        width: 100%;
    }
    div.sphinxsidebar input[type="submit"] {
        width: 100%;
    }
</style>

<div class="sidebarblock">
    <div id="cse-search-form">Loading</div>

    <script src="http://www.google.com/jsapi" type="text/javascript"></script>
    <script type="text/javascript">
        google.load('search', '1', {language : 'en'});
        google.setOnLoadCallback(function() {
            var customSearchControl = new google.search.CustomSearchControl(
                    '010960497803984932957:u8pmqf7fdoq');

            customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
            var options = new google.search.DrawOptions();
            options.enableSearchboxOnly("../../searchresults.html");
            customSearchControl.draw('cse-search-form', options);
        }, true);
    </script>
</div>

  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">interfaces.fsl.dti</a><ul>
<li><a class="reference internal" href="#bedpostx">BEDPOSTX</a></li>
<li><a class="reference internal" href="#bedpostx4">BEDPOSTX4</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bedpostx5">BEDPOSTX5</a><ul>
<li><a class="reference internal" href="#id1">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dtifit">DTIFit</a><ul>
<li><a class="reference internal" href="#id2">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#distancemap">DistanceMap</a><ul>
<li><a class="reference internal" href="#id3">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#findthebiggest">FindTheBiggest</a><ul>
<li><a class="reference internal" href="#id4">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#makedyadicvectors">MakeDyadicVectors</a></li>
<li><a class="reference internal" href="#probtrackx">ProbTrackX</a><ul>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#probtrackx2">ProbTrackX2</a><ul>
<li><a class="reference internal" href="#id5">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#projthresh">ProjThresh</a><ul>
<li><a class="reference internal" href="#id6">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tractskeleton">TractSkeleton</a><ul>
<li><a class="reference internal" href="#id7">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#vecreg">VecReg</a><ul>
<li><a class="reference internal" href="#id8">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#xfibres">XFibres</a></li>
<li><a class="reference internal" href="#xfibres4">XFibres4</a></li>
<li><a class="reference internal" href="#xfibres5">XFibres5</a></li>
</ul>
</li>
</ul>

<style type="text/css">
    div.sphinxsidebar .tile {
        border: 1px solid #D1DDE2;
        border-radius: 10px;
        background-color: #E1E8EC;
        padding-left: 0.5em;
        margin: 1em 0;
    }
</style>
<div class="sidebarblock">
    <h3>Versions</h3>

    <div class="tile">
        <table style="width: 100%;">
            <tr style="font-weight: bold;">
                <td align="left">Release</td><td align="right">Devel</td>
            </tr>
            <tr>
                <td align="left">0.10.0</td><td align="right">1.0-dev</td>
            </tr>
            <tr>
                <td align="left"><a href="../../users/install.html">Download</a></td>
                <td align="right"><a href="https://github.com/nipy/nipype">Github</a></td>
            </tr>
        </table>
    </div>

    <div id="buttons">
        <div id="ohloh-use" style="margin-right: 25px; margin-top: -2px; float: left;">
            <script type="text/javascript"
                    src="http://www.ohloh.net/p/480871/widgets/project_users_logo.js">
            </script>
        </div><!-- use -->
        <g:plusone size="medium" annotation="none"></g:plusone>
        <div class="clear"></div>
    </div><!-- buttons container -->
</div>


<script type="text/javascript">
    (function() {
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
</script>

<h3>Links</h3>

<ul>
    <li>Docs: <a href="http://nipy.org/nipype">Stable</a> · <a href="http://www.mit.edu/~satra/nipype-nightly/">Nightly</a></li>
    <li>Code: <a href="http://github.com/nipy/nipype">Github</a> · <a href="http://github.com/nipy/nipype/issues">Bugs-Requests</a></li>
    <li>Forum: <a href="http://neurostars.org/t/nipype">User</a> · <a href="http://projects.scipy.org/mailman/listinfo/nipy-devel">Developer</a></li>
    <li><a href="http://nipy.org/software/license/index.html"><img src="https://pypip.in/license/nipype/badge.png" alt="License"></a> · <a href="http://nipy.org/about/funding.html">Funding</a></li>
    <li><a href="https://travis-ci.org/nipy/nipype"><img src="https://travis-ci.org/nipy/nipype.png?branch=master" alt="travis"></a> · <a href='https://coveralls.io/r/nipy/nipype'><img src='https://coveralls.io/repos/nipy/nipype/badge.png' alt='Coverage Status' /></a></li>
    <li><a href="https://pypi.python.org/pypi/nipype/"><img src="https://pypip.in/download/nipype/badge.png" alt="Downloads"></a> · <a href='https://pypi.python.org/pypi/nipype/'><img src='https://pypip.in/py_versions/nipype/badge.png' alt='Python Versions' /></a></li>
</ul>


        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="interfaces-fsl-dti">
<h1>interfaces.fsl.dti<a class="headerlink" href="#interfaces-fsl-dti" title="Permalink to this headline">¶</a></h1>
<span class="target" id="nipype-interfaces-fsl-dti-bedpostx"></span><div class="section" id="bedpostx">
<span id="index-0"></span><h2>BEDPOSTX<a class="headerlink" href="#bedpostx" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/3444b7588a1dea15675dc8a4f5be5f8b753adbd8/nipype/interfaces/fsl/dti.py#L639">Link to code</a></p>
<p>Wraps command <strong>bedpostx</strong></p>
<p>Inputs:</p>
<div class="highlight-python"><div class="highlight"><pre>[Mandatory]
bvals: (an existing file name)
        b values file
        flag: --bvals=%s
bvecs: (an existing file name)
        b vectors file
        flag: --bvecs=%s
dwi: (an existing file name)
        diffusion weighted image data file
        flag: --data=%s
mask: (an existing file name)
        brain binary mask file (i.e. from BET)
        flag: --mask=%s
out_dir: (a directory name, nipype default value: .)
        output directory
        flag: %s, position: 1

[Optional]
all_ard: (a boolean)
        Turn ARD on on all fibres
        flag: --allard
        mutually_exclusive: no_ard, all_ard
args: (a string)
        Additional parameters to the command
        flag: %s
burn_in: (an integer &gt;= 0)
        Total num of jumps at start of MCMC to be discarded
        flag: --burnin=%d
burn_in_no_ard: (an integer &gt;= 0)
        num of burnin jumps before the ard is imposed
        flag: --burninnoard=%d
cnlinear: (a boolean)
        Initialise with constrained nonlinear fitting
        flag: --cnonlinear
        mutually_exclusive: no_spat, non_linear, cnlinear
environ: (a dictionary with keys which are a value of type &#39;str&#39; and
         with values which are a value of type &#39;str&#39;, nipype default value:
         {})
        Environment variables
f0_ard: (a boolean)
        Noise floor model: add to the model an unattenuated signal
        compartment f0
        flag: --f0 --ardf0
        mutually_exclusive: f0_noard, f0_ard, all_ard
f0_noard: (a boolean)
        Noise floor model: add to the model an unattenuated signal
        compartment f0
        flag: --f0
        mutually_exclusive: f0_noard, f0_ard
force_dir: (a boolean, nipype default value: True)
        use the actual directory name given (do not add + to make a new
        directory)
        flag: --forcedir
fudge: (an integer)
        ARD fudge factor
        flag: --fudge=%d
gradnonlin: (a boolean)
        consider gradient nonlinearities, default off
        flag: -g
ignore_exception: (a boolean, nipype default value: False)
        Print an error message instead of throwing an exception in case the
        interface fails to run
logdir: (a directory name, nipype default value: .)
        flag: --logdir=%s
model: (1 or 2)
        use monoexponential (1, default, required for single-shell) or
        multiexponential (2, multi-shell) model
        flag: --model=%d
n_fibres: (an integer &gt;= 1)
        Maximum number of fibres to fit in each voxel
        flag: --nfibres=%d
n_jumps: (an integer)
        Num of jumps to be made by MCMC
        flag: --njumps=%d
no_ard: (a boolean)
        Turn ARD off on all fibres
        flag: --noard
        mutually_exclusive: no_ard, all_ard
no_spat: (a boolean)
        Initialise with tensor, not spatially
        flag: --nospat
        mutually_exclusive: no_spat, non_linear, cnlinear
non_linear: (a boolean)
        Initialise with nonlinear fitting
        flag: --nonlinear
        mutually_exclusive: no_spat, non_linear, cnlinear
output_type: (&#39;NIFTI_PAIR&#39; or &#39;NIFTI_PAIR_GZ&#39; or &#39;NIFTI_GZ&#39; or
         &#39;NIFTI&#39;)
        FSL output type
rician: (a boolean)
        use Rician noise modeling
        flag: --rician
sample_every: (an integer &gt;= 0)
        Num of jumps for each sample (MCMC)
        flag: --sampleevery=%d
seed: (an integer)
        seed for pseudo random number generator
        flag: --seed=%d
terminal_output: (&#39;stream&#39; or &#39;allatonce&#39; or &#39;file&#39; or &#39;none&#39;)
        Control terminal output: `stream` - displays to terminal immediately
        (default), `allatonce` - waits till command is finished to display
        output, `file` - writes output to file, `none` - output is ignored
update_proposal_every: (an integer &gt;= 1)
        Num of jumps for each update to the proposal density std (MCMC)
        flag: --updateproposalevery=%d
use_gpu: (a boolean)
        Use the GPU version of bedpostx
</pre></div>
</div>
<p>Outputs:</p>
<div class="highlight-python"><div class="highlight"><pre>d_stdsamples: (a file name)
        Std of samples from the distribution d
dsamples: (a file name)
        Samples from the distribution on diffusivity d
dyads: (a list of items which are a file name)
        Mean of PDD distribution in vector form.
dyads_disp: (a list of items which are a file name)
        Uncertainty on the estimated fiber orientation
fsamples: (a list of items which are a file name)
        Samples from the distribution on f anisotropy
mean_S0samples: (a file name)
        Mean of distribution on T2wbaseline signal intensity S0
mean_d_stdsamples: (a file name)
        Mean of distribution on diffusivity d
mean_dsamples: (a file name)
        Mean of distribution on diffusivity d
mean_fsamples: (a list of items which are a file name)
        Mean of distribution on f anisotropy
mean_phsamples: (a list of items which are a file name)
        Mean of distribution on phi
mean_tausamples: (a file name)
        Mean of distribution on tau samples (only with rician noise)
mean_thsamples: (a list of items which are a file name)
        Mean of distribution on theta
merged_fsamples: (a list of items which are a file name)
        Samples from the distribution on anisotropic volume fraction.
merged_phsamples: (a list of items which are a file name)
        Samples from the distribution on phi
merged_thsamples: (a list of items which are a file name)
        Samples from the distribution on theta
phsamples: (a list of items which are a file name)
        phi samples, per fiber
thsamples: (a list of items which are a file name)
        theta samples, per fiber
</pre></div>
</div>
<span class="target" id="nipype-interfaces-fsl-dti-bedpostx4"></span></div>
<div class="section" id="bedpostx4">
<span id="index-1"></span><h2>BEDPOSTX4<a class="headerlink" href="#bedpostx4" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/3444b7588a1dea15675dc8a4f5be5f8b753adbd8/nipype/interfaces/fsl/dti.py#L534">Link to code</a></p>
<p>Wraps command <strong>bedpostx</strong></p>
<p>bedpostx has an old interface, implemented here</p>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nipype.interfaces</span> <span class="kn">import</span> <span class="n">fsl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bedp</span> <span class="o">=</span> <span class="n">fsl</span><span class="o">.</span><span class="n">BEDPOSTX4</span><span class="p">(</span><span class="n">bpx_directory</span><span class="o">=</span><span class="s">&#39;subjdir&#39;</span><span class="p">,</span> <span class="n">bvecs</span><span class="o">=</span><span class="s">&#39;bvecs&#39;</span><span class="p">,</span> <span class="n">bvals</span><span class="o">=</span><span class="s">&#39;bvals&#39;</span><span class="p">,</span> <span class="n">dwi</span><span class="o">=</span><span class="s">&#39;diffusion.nii&#39;</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="s">&#39;mask.nii&#39;</span><span class="p">,</span> <span class="n">fibres</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bedp</span><span class="o">.</span><span class="n">cmdline</span>
<span class="go">&#39;bedpostx subjdir -n 1 --forcedir --logdir=logdir&#39;</span>
</pre></div>
</div>
<p>Inputs:</p>
<div class="highlight-python"><div class="highlight"><pre>[Mandatory]
bvals: (an existing file name)
        b values file
bvecs: (an existing file name)
        b vectors file
dwi: (an existing file name)
        diffusion weighted image data file
mask: (an existing file name)
        bet binary mask file

[Optional]
all_ard: (a boolean)
        Turn ARD on on all fibres
        flag: --allard
        mutually_exclusive: no_ard, all_ard
args: (a string)
        Additional parameters to the command
        flag: %s
bpx_directory: (a directory name, nipype default value: bedpostx)
        the name for this subject&#39;s bedpostx folder
        flag: %s
burn_in: (an integer &gt;= 0)
        Total num of jumps at start of MCMC to be discarded
        flag: --burnin=%d
burn_in_no_ard: (an integer &gt;= 0)
        num of burnin jumps before the ard is imposed
        flag: --burninnoard=%d
burn_period: (an integer)
        burnin period
        flag: -b %d
environ: (a dictionary with keys which are a value of type &#39;str&#39; and
         with values which are a value of type &#39;str&#39;, nipype default value:
         {})
        Environment variables
fibres: (an integer)
        number of fibres per voxel
        flag: -n %d
force_dir: (a boolean, nipype default value: True)
        use the actual directory name given - i.e. do not add + to make a
        new directory
        flag: --forcedir
fudge: (an integer)
        ARD fudge factor
        flag: --fudge=%d
gradnonlin: (an existing file name)
        flag: --gradnonlin=%s
ignore_exception: (a boolean, nipype default value: False)
        Print an error message instead of throwing an exception in case the
        interface fails to run
jumps: (an integer)
        number of jumps
        flag: -j %d
logdir: (a directory name, nipype default value: logdir)
        flag: --logdir=%s
model: (1 or 2)
        model choice: monoexponential (1) or multiexponential (2).
        flag: -model %d
n_fibres: (an integer &gt;= 1)
        Maximum nukmber of fibres to fit in each voxel
        flag: --nfibres=%d
n_jumps: (an integer &gt;= 1)
        Num of jumps to be made by MCMC
        flag: --njumps=%d
nlgradient: (a boolean)
        consider gradientnonlinearities, default off
        flag: -g
no_ard: (a boolean)
        Turn ARD off on all fibres
        flag: --noard
        mutually_exclusive: no_ard, all_ard
no_cuda: (a boolean)
        do not use CUDA capable hardware/queue (if found)
        flag: -c
no_spat: (a boolean)
        Initialise with tensor, not spatially
        flag: --nospat
        mutually_exclusive: no_spat, non_linear
non_linear: (a boolean)
        Initialise with nonlinear fitting
        flag: --nonlinear
        mutually_exclusive: no_spat, non_linear
output_type: (&#39;NIFTI_PAIR&#39; or &#39;NIFTI_PAIR_GZ&#39; or &#39;NIFTI_GZ&#39; or
         &#39;NIFTI&#39;)
        FSL output type
sample_every: (an integer &gt;= 0)
        Num of jumps for each sample (MCMC)
        flag: --sampleevery=%d
sampling: (an integer)
        sample every
        flag: -s %d
seed: (an integer)
        seed for pseudo random number generator
        flag: --seed=%d
terminal_output: (&#39;stream&#39; or &#39;allatonce&#39; or &#39;file&#39; or &#39;none&#39;)
        Control terminal output: `stream` - displays to terminal immediately
        (default), `allatonce` - waits till command is finished to display
        output, `file` - writes output to file, `none` - output is ignored
update_proposal_every: (an integer &gt;= 1)
        Num of jumps for each update to the proposal density std (MCMC)
        flag: --updateproposalevery=%d
weight: (a float)
        ARD weight, more weight means less secondary fibres per voxel
        flag: -w %.2f
</pre></div>
</div>
<p>Outputs:</p>
<div class="highlight-python"><div class="highlight"><pre>bpx_out_directory: (an existing directory name)
        path/name of directory with all bedpostx output files for this
        subject
dyads: (a list of items which are an existing file name)
        a list of path/name of mean of PDD distribution in vector form
mean_fsamples: (a list of items which are an existing file name)
        a list of path/name of 3D volume with mean of distribution on f
        anisotropy
mean_phsamples: (a list of items which are an existing file name)
        a list of path/name of 3D volume with mean of distribution on phi
mean_thsamples: (a list of items which are an existing file name)
        a list of path/name of 3D volume with mean of distribution on theta
merged_fsamples: (a list of items which are an existing file name)
        a list of path/name of 4D volume with samples from the distribution
        on anisotropic volume fraction
merged_phsamples: (a list of items which are an existing file name)
        a list of path/name of file with samples from the distribution on
        phi
merged_thsamples: (a list of items which are an existing file name)
        a list of path/name of 4D volume with samples from the distribution
        on theta
xfms_directory: (an existing directory name)
        path/name of directory with the tranformation matrices
</pre></div>
</div>
<span class="target" id="nipype-interfaces-fsl-dti-bedpostx5"></span></div>
</div>
<div class="section" id="bedpostx5">
<span id="index-2"></span><h2>BEDPOSTX5<a class="headerlink" href="#bedpostx5" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/3444b7588a1dea15675dc8a4f5be5f8b753adbd8/nipype/interfaces/fsl/dti.py#L267">Link to code</a></p>
<p>Wraps command <strong>bedpostx</strong></p>
<p>BEDPOSTX stands for Bayesian Estimation of Diffusion Parameters Obtained
using Sampling Techniques. The X stands for modelling Crossing Fibres.
bedpostx runs Markov Chain Monte Carlo sampling to build up distributions
on diffusion parameters at each voxel. It creates all the files necessary
for running probabilistic tractography. For an overview of the modelling
carried out within bedpostx see this <a class="reference external" href="http://www.fmrib.ox.ac.uk/analysis/techrep/tr03tb1/tr03tb1/index.html">technical report</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Consider using
<tt class="xref py py-func docutils literal"><span class="pre">nipype.workflows.fsl.dmri.create_bedpostx_pipeline()</span></tt> instead.</p>
</div>
<div class="section" id="id1">
<h3>Example<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nipype.interfaces</span> <span class="kn">import</span> <span class="n">fsl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bedp</span> <span class="o">=</span> <span class="n">fsl</span><span class="o">.</span><span class="n">BEDPOSTX5</span><span class="p">(</span><span class="n">bvecs</span><span class="o">=</span><span class="s">&#39;bvecs&#39;</span><span class="p">,</span> <span class="n">bvals</span><span class="o">=</span><span class="s">&#39;bvals&#39;</span><span class="p">,</span> <span class="n">dwi</span><span class="o">=</span><span class="s">&#39;diffusion.nii&#39;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">mask</span><span class="o">=</span><span class="s">&#39;mask.nii&#39;</span><span class="p">,</span> <span class="n">n_fibres</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bedp</span><span class="o">.</span><span class="n">cmdline</span>
<span class="go">&#39;bedpostx . --bvals=bvals --bvecs=bvecs --data=diffusion.nii --forcedir --logdir=. --mask=mask.nii --nfibres=1&#39;</span>
</pre></div>
</div>
<p>Inputs:</p>
<div class="highlight-python"><div class="highlight"><pre>[Mandatory]
bvals: (an existing file name)
        b values file
        flag: --bvals=%s
bvecs: (an existing file name)
        b vectors file
        flag: --bvecs=%s
dwi: (an existing file name)
        diffusion weighted image data file
        flag: --data=%s
mask: (an existing file name)
        brain binary mask file (i.e. from BET)
        flag: --mask=%s
out_dir: (a directory name, nipype default value: .)
        output directory
        flag: %s, position: 1

[Optional]
all_ard: (a boolean)
        Turn ARD on on all fibres
        flag: --allard
        mutually_exclusive: no_ard, all_ard
args: (a string)
        Additional parameters to the command
        flag: %s
burn_in: (an integer &gt;= 0)
        Total num of jumps at start of MCMC to be discarded
        flag: --burnin=%d
burn_in_no_ard: (an integer &gt;= 0)
        num of burnin jumps before the ard is imposed
        flag: --burninnoard=%d
cnlinear: (a boolean)
        Initialise with constrained nonlinear fitting
        flag: --cnonlinear
        mutually_exclusive: no_spat, non_linear, cnlinear
environ: (a dictionary with keys which are a value of type &#39;str&#39; and
         with values which are a value of type &#39;str&#39;, nipype default value:
         {})
        Environment variables
f0_ard: (a boolean)
        Noise floor model: add to the model an unattenuated signal
        compartment f0
        flag: --f0 --ardf0
        mutually_exclusive: f0_noard, f0_ard, all_ard
f0_noard: (a boolean)
        Noise floor model: add to the model an unattenuated signal
        compartment f0
        flag: --f0
        mutually_exclusive: f0_noard, f0_ard
force_dir: (a boolean, nipype default value: True)
        use the actual directory name given (do not add + to make a new
        directory)
        flag: --forcedir
fudge: (an integer)
        ARD fudge factor
        flag: --fudge=%d
gradnonlin: (a boolean)
        consider gradient nonlinearities, default off
        flag: -g
ignore_exception: (a boolean, nipype default value: False)
        Print an error message instead of throwing an exception in case the
        interface fails to run
logdir: (a directory name, nipype default value: .)
        flag: --logdir=%s
model: (1 or 2)
        use monoexponential (1, default, required for single-shell) or
        multiexponential (2, multi-shell) model
        flag: --model=%d
n_fibres: (an integer &gt;= 1)
        Maximum number of fibres to fit in each voxel
        flag: --nfibres=%d
n_jumps: (an integer)
        Num of jumps to be made by MCMC
        flag: --njumps=%d
no_ard: (a boolean)
        Turn ARD off on all fibres
        flag: --noard
        mutually_exclusive: no_ard, all_ard
no_spat: (a boolean)
        Initialise with tensor, not spatially
        flag: --nospat
        mutually_exclusive: no_spat, non_linear, cnlinear
non_linear: (a boolean)
        Initialise with nonlinear fitting
        flag: --nonlinear
        mutually_exclusive: no_spat, non_linear, cnlinear
output_type: (&#39;NIFTI_PAIR&#39; or &#39;NIFTI_PAIR_GZ&#39; or &#39;NIFTI_GZ&#39; or
         &#39;NIFTI&#39;)
        FSL output type
rician: (a boolean)
        use Rician noise modeling
        flag: --rician
sample_every: (an integer &gt;= 0)
        Num of jumps for each sample (MCMC)
        flag: --sampleevery=%d
seed: (an integer)
        seed for pseudo random number generator
        flag: --seed=%d
terminal_output: (&#39;stream&#39; or &#39;allatonce&#39; or &#39;file&#39; or &#39;none&#39;)
        Control terminal output: `stream` - displays to terminal immediately
        (default), `allatonce` - waits till command is finished to display
        output, `file` - writes output to file, `none` - output is ignored
update_proposal_every: (an integer &gt;= 1)
        Num of jumps for each update to the proposal density std (MCMC)
        flag: --updateproposalevery=%d
use_gpu: (a boolean)
        Use the GPU version of bedpostx
</pre></div>
</div>
<p>Outputs:</p>
<div class="highlight-python"><div class="highlight"><pre>d_stdsamples: (a file name)
        Std of samples from the distribution d
dsamples: (a file name)
        Samples from the distribution on diffusivity d
dyads: (a list of items which are a file name)
        Mean of PDD distribution in vector form.
dyads_disp: (a list of items which are a file name)
        Uncertainty on the estimated fiber orientation
fsamples: (a list of items which are a file name)
        Samples from the distribution on f anisotropy
mean_S0samples: (a file name)
        Mean of distribution on T2wbaseline signal intensity S0
mean_d_stdsamples: (a file name)
        Mean of distribution on diffusivity d
mean_dsamples: (a file name)
        Mean of distribution on diffusivity d
mean_fsamples: (a list of items which are a file name)
        Mean of distribution on f anisotropy
mean_phsamples: (a list of items which are a file name)
        Mean of distribution on phi
mean_tausamples: (a file name)
        Mean of distribution on tau samples (only with rician noise)
mean_thsamples: (a list of items which are a file name)
        Mean of distribution on theta
merged_fsamples: (a list of items which are a file name)
        Samples from the distribution on anisotropic volume fraction.
merged_phsamples: (a list of items which are a file name)
        Samples from the distribution on phi
merged_thsamples: (a list of items which are a file name)
        Samples from the distribution on theta
phsamples: (a list of items which are a file name)
        phi samples, per fiber
thsamples: (a list of items which are a file name)
        theta samples, per fiber
</pre></div>
</div>
<span class="target" id="nipype-interfaces-fsl-dti-dtifit"></span></div>
</div>
<div class="section" id="dtifit">
<span id="index-3"></span><h2>DTIFit<a class="headerlink" href="#dtifit" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/3444b7588a1dea15675dc8a4f5be5f8b753adbd8/nipype/interfaces/fsl/dti.py#L70">Link to code</a></p>
<p>Wraps command <strong>dtifit</strong></p>
<p>Use FSL  dtifit command for fitting a diffusion tensor model at each
voxel</p>
<div class="section" id="id2">
<h3>Example<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nipype.interfaces</span> <span class="kn">import</span> <span class="n">fsl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dti</span> <span class="o">=</span> <span class="n">fsl</span><span class="o">.</span><span class="n">DTIFit</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dti</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">dwi</span> <span class="o">=</span> <span class="s">&#39;diffusion.nii&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dti</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">bvecs</span> <span class="o">=</span> <span class="s">&#39;bvecs&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dti</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">bvals</span> <span class="o">=</span> <span class="s">&#39;bvals&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dti</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">base_name</span> <span class="o">=</span> <span class="s">&#39;TP&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dti</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">mask</span> <span class="o">=</span> <span class="s">&#39;mask.nii&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dti</span><span class="o">.</span><span class="n">cmdline</span>
<span class="go">&#39;dtifit -k diffusion.nii -o TP -m mask.nii -r bvecs -b bvals&#39;</span>
</pre></div>
</div>
<p>Inputs:</p>
<div class="highlight-python"><div class="highlight"><pre>[Mandatory]
bvals: (an existing file name)
        b values file
        flag: -b %s, position: 4
bvecs: (an existing file name)
        b vectors file
        flag: -r %s, position: 3
dwi: (an existing file name)
        diffusion weighted image data file
        flag: -k %s, position: 0
mask: (an existing file name)
        bet binary mask file
        flag: -m %s, position: 2

[Optional]
args: (a string)
        Additional parameters to the command
        flag: %s
base_name: (a string, nipype default value: dtifit_)
        base_name that all output files will start with
        flag: -o %s, position: 1
cni: (an existing file name)
        input counfound regressors
        flag: --cni=%s
environ: (a dictionary with keys which are a value of type &#39;str&#39; and
         with values which are a value of type &#39;str&#39;, nipype default value:
         {})
        Environment variables
gradnonlin: (an existing file name)
        gradient non linearities
        flag: --gradnonlin=%s
ignore_exception: (a boolean, nipype default value: False)
        Print an error message instead of throwing an exception in case the
        interface fails to run
little_bit: (a boolean)
        only process small area of brain
        flag: --littlebit
max_x: (an integer)
        max x
        flag: -X %d
max_y: (an integer)
        max y
        flag: -Y %d
max_z: (an integer)
        max z
        flag: -Z %d
min_x: (an integer)
        min x
        flag: -x %d
min_y: (an integer)
        min y
        flag: -y %d
min_z: (an integer)
        min z
        flag: -z %d
output_type: (&#39;NIFTI_PAIR&#39; or &#39;NIFTI_PAIR_GZ&#39; or &#39;NIFTI_GZ&#39; or
         &#39;NIFTI&#39;)
        FSL output type
save_tensor: (a boolean)
        save the elements of the tensor
        flag: --save_tensor
sse: (a boolean)
        output sum of squared errors
        flag: --sse
terminal_output: (&#39;stream&#39; or &#39;allatonce&#39; or &#39;file&#39; or &#39;none&#39;)
        Control terminal output: `stream` - displays to terminal immediately
        (default), `allatonce` - waits till command is finished to display
        output, `file` - writes output to file, `none` - output is ignored
</pre></div>
</div>
<p>Outputs:</p>
<div class="highlight-python"><div class="highlight"><pre>FA: (an existing file name)
        path/name of file with the fractional anisotropy
L1: (an existing file name)
        path/name of file with the 1st eigenvalue
L2: (an existing file name)
        path/name of file with the 2nd eigenvalue
L3: (an existing file name)
        path/name of file with the 3rd eigenvalue
MD: (an existing file name)
        path/name of file with the mean diffusivity
MO: (an existing file name)
        path/name of file with the mode of anisotropy
S0: (an existing file name)
        path/name of file with the raw T2 signal with no diffusion weighting
V1: (an existing file name)
        path/name of file with the 1st eigenvector
V2: (an existing file name)
        path/name of file with the 2nd eigenvector
V3: (an existing file name)
        path/name of file with the 3rd eigenvector
tensor: (an existing file name)
        path/name of file with the 4D tensor volume
</pre></div>
</div>
<span class="target" id="nipype-interfaces-fsl-dti-distancemap"></span></div>
</div>
<div class="section" id="distancemap">
<span id="index-4"></span><h2>DistanceMap<a class="headerlink" href="#distancemap" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/3444b7588a1dea15675dc8a4f5be5f8b753adbd8/nipype/interfaces/fsl/dti.py#L1231">Link to code</a></p>
<p>Wraps command <strong>distancemap</strong></p>
<p>Use FSL&#8217;s distancemap to generate a map of the distance to the nearest nonzero voxel.</p>
<div class="section" id="id3">
<h3>Example<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">nipype.interfaces.fsl</span> <span class="kn">as</span> <span class="nn">fsl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapper</span> <span class="o">=</span> <span class="n">fsl</span><span class="o">.</span><span class="n">DistanceMap</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapper</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">in_file</span> <span class="o">=</span> <span class="s">&quot;skeleton_mask.nii.gz&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapper</span><span class="o">.</span><span class="n">run</span><span class="p">()</span> 
</pre></div>
</div>
<p>Inputs:</p>
<div class="highlight-python"><div class="highlight"><pre>[Mandatory]
in_file: (an existing file name)
        image to calculate distance values for
        flag: --in=%s

[Optional]
args: (a string)
        Additional parameters to the command
        flag: %s
distance_map: (a file name)
        distance map to write
        flag: --out=%s
environ: (a dictionary with keys which are a value of type &#39;str&#39; and
         with values which are a value of type &#39;str&#39;, nipype default value:
         {})
        Environment variables
ignore_exception: (a boolean, nipype default value: False)
        Print an error message instead of throwing an exception in case the
        interface fails to run
invert_input: (a boolean)
        invert input image
        flag: --invert
local_max_file: (a boolean or a file name)
        write an image of the local maxima
        flag: --localmax=%s
mask_file: (an existing file name)
        binary mask to contrain calculations
        flag: --mask=%s
output_type: (&#39;NIFTI_PAIR&#39; or &#39;NIFTI_PAIR_GZ&#39; or &#39;NIFTI_GZ&#39; or
         &#39;NIFTI&#39;)
        FSL output type
terminal_output: (&#39;stream&#39; or &#39;allatonce&#39; or &#39;file&#39; or &#39;none&#39;)
        Control terminal output: `stream` - displays to terminal immediately
        (default), `allatonce` - waits till command is finished to display
        output, `file` - writes output to file, `none` - output is ignored
</pre></div>
</div>
<p>Outputs:</p>
<div class="highlight-python"><div class="highlight"><pre>distance_map: (an existing file name)
        value is distance to nearest nonzero voxels
local_max_file: (a file name)
        image of local maxima
</pre></div>
</div>
<span class="target" id="nipype-interfaces-fsl-dti-findthebiggest"></span></div>
</div>
<div class="section" id="findthebiggest">
<span id="index-5"></span><h2>FindTheBiggest<a class="headerlink" href="#findthebiggest" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/3444b7588a1dea15675dc8a4f5be5f8b753adbd8/nipype/interfaces/fsl/dti.py#L1075">Link to code</a></p>
<p>Wraps command <strong>find_the_biggest</strong></p>
<p>Use FSL find_the_biggest for performing hard segmentation on
the outputs of connectivity-based thresholding in probtrack.
For complete details, see the <a class="reference external" href="http://www.fmrib.ox.ac.uk/fsl/fdt/fdt_biggest.html">FDT
Documentation.</a></p>
<div class="section" id="id4">
<h3>Example<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nipype.interfaces</span> <span class="kn">import</span> <span class="n">fsl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ldir</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;seeds_to_M1.nii&#39;</span><span class="p">,</span> <span class="s">&#39;seeds_to_M2.nii&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fBig</span> <span class="o">=</span> <span class="n">fsl</span><span class="o">.</span><span class="n">FindTheBiggest</span><span class="p">(</span><span class="n">in_files</span><span class="o">=</span><span class="n">ldir</span><span class="p">,</span> <span class="n">out_file</span><span class="o">=</span><span class="s">&#39;biggestSegmentation&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fBig</span><span class="o">.</span><span class="n">cmdline</span>
<span class="go">&#39;find_the_biggest seeds_to_M1.nii seeds_to_M2.nii biggestSegmentation&#39;</span>
</pre></div>
</div>
<p>Inputs:</p>
<div class="highlight-python"><div class="highlight"><pre>[Mandatory]
in_files: (a list of items which are an existing file name)
        a list of input volumes or a singleMatrixFile
        flag: %s, position: 0

[Optional]
args: (a string)
        Additional parameters to the command
        flag: %s
environ: (a dictionary with keys which are a value of type &#39;str&#39; and
         with values which are a value of type &#39;str&#39;, nipype default value:
         {})
        Environment variables
ignore_exception: (a boolean, nipype default value: False)
        Print an error message instead of throwing an exception in case the
        interface fails to run
out_file: (a file name)
        file with the resulting segmentation
        flag: %s, position: 2
output_type: (&#39;NIFTI_PAIR&#39; or &#39;NIFTI_PAIR_GZ&#39; or &#39;NIFTI_GZ&#39; or
         &#39;NIFTI&#39;)
        FSL output type
terminal_output: (&#39;stream&#39; or &#39;allatonce&#39; or &#39;file&#39; or &#39;none&#39;)
        Control terminal output: `stream` - displays to terminal immediately
        (default), `allatonce` - waits till command is finished to display
        output, `file` - writes output to file, `none` - output is ignored
</pre></div>
</div>
<p>Outputs:</p>
<div class="highlight-python"><div class="highlight"><pre>out_file: (an existing file name)
        output file indexed in order of input files
        flag: %s
</pre></div>
</div>
<span class="target" id="nipype-interfaces-fsl-dti-makedyadicvectors"></span></div>
</div>
<div class="section" id="makedyadicvectors">
<span id="index-6"></span><h2>MakeDyadicVectors<a class="headerlink" href="#makedyadicvectors" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/3444b7588a1dea15675dc8a4f5be5f8b753adbd8/nipype/interfaces/fsl/dti.py#L1296">Link to code</a></p>
<p>Wraps command <strong>make_dyadic_vectors</strong></p>
<p>Create vector volume representing mean principal diffusion direction
and its uncertainty (dispersion)</p>
<p>Inputs:</p>
<div class="highlight-python"><div class="highlight"><pre>[Mandatory]
phi_vol: (an existing file name)
        flag: %s, position: 1
theta_vol: (an existing file name)
        flag: %s, position: 0

[Optional]
args: (a string)
        Additional parameters to the command
        flag: %s
environ: (a dictionary with keys which are a value of type &#39;str&#39; and
         with values which are a value of type &#39;str&#39;, nipype default value:
         {})
        Environment variables
ignore_exception: (a boolean, nipype default value: False)
        Print an error message instead of throwing an exception in case the
        interface fails to run
mask: (an existing file name)
        flag: %s, position: 2
output: (a file name, nipype default value: dyads)
        flag: %s, position: 3
output_type: (&#39;NIFTI_PAIR&#39; or &#39;NIFTI_PAIR_GZ&#39; or &#39;NIFTI_GZ&#39; or
         &#39;NIFTI&#39;)
        FSL output type
perc: (a float)
        the {perc}% angle of the output cone of uncertainty (output will be
        in degrees)
        flag: %f, position: 4
terminal_output: (&#39;stream&#39; or &#39;allatonce&#39; or &#39;file&#39; or &#39;none&#39;)
        Control terminal output: `stream` - displays to terminal immediately
        (default), `allatonce` - waits till command is finished to display
        output, `file` - writes output to file, `none` - output is ignored
</pre></div>
</div>
<p>Outputs:</p>
<div class="highlight-python"><div class="highlight"><pre>dispersion: (an existing file name)
dyads: (an existing file name)
</pre></div>
</div>
<span class="target" id="nipype-interfaces-fsl-dti-probtrackx"></span></div>
<div class="section" id="probtrackx">
<span id="index-7"></span><h2>ProbTrackX<a class="headerlink" href="#probtrackx" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/3444b7588a1dea15675dc8a4f5be5f8b753adbd8/nipype/interfaces/fsl/dti.py#L737">Link to code</a></p>
<p>Wraps command <strong>probtrackx</strong></p>
<p>Use FSL  probtrackx for tractography on bedpostx results</p>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nipype.interfaces</span> <span class="kn">import</span> <span class="n">fsl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pbx</span> <span class="o">=</span> <span class="n">fsl</span><span class="o">.</span><span class="n">ProbTrackX</span><span class="p">(</span><span class="n">samples_base_name</span><span class="o">=</span><span class="s">&#39;merged&#39;</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="s">&#39;mask.nii&#39;</span><span class="p">,</span>     <span class="n">seed</span><span class="o">=</span><span class="s">&#39;MASK_average_thal_right.nii&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s">&#39;seedmask&#39;</span><span class="p">,</span>     <span class="n">xfm</span><span class="o">=</span><span class="s">&#39;trans.mat&#39;</span><span class="p">,</span> <span class="n">n_samples</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">n_steps</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">force_dir</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">opd</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">os2t</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>     <span class="n">target_masks</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;targets_MASK1.nii&#39;</span><span class="p">,</span> <span class="s">&#39;targets_MASK2.nii&#39;</span><span class="p">],</span>     <span class="n">thsamples</span><span class="o">=</span><span class="s">&#39;merged_thsamples.nii&#39;</span><span class="p">,</span> <span class="n">fsamples</span><span class="o">=</span><span class="s">&#39;merged_fsamples.nii&#39;</span><span class="p">,</span> <span class="n">phsamples</span><span class="o">=</span><span class="s">&#39;merged_phsamples.nii&#39;</span><span class="p">,</span>     <span class="n">out_dir</span><span class="o">=</span><span class="s">&#39;.&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pbx</span><span class="o">.</span><span class="n">cmdline</span>
<span class="go">&#39;probtrackx --forcedir -m mask.nii --mode=seedmask --nsamples=3 --nsteps=10 --opd --os2t --dir=. --samples=merged --seed=MASK_average_thal_right.nii --targetmasks=targets.txt --xfm=trans.mat&#39;</span>
</pre></div>
</div>
<p>Inputs:</p>
<div class="highlight-python"><div class="highlight"><pre>[Mandatory]
fsamples: (a list of items which are an existing file name)
mask: (an existing file name)
        bet binary mask file in diffusion space
        flag: -m %s
phsamples: (a list of items which are an existing file name)
seed: (an existing file name or a list of items which are an existing
         file name or a list of items which are a list of from 3 to 3 items
         which are an integer)
        seed volume(s), or voxel(s)or freesurfer label file
        flag: --seed=%s
thsamples: (a list of items which are an existing file name)

[Optional]
args: (a string)
        Additional parameters to the command
        flag: %s
avoid_mp: (an existing file name)
        reject pathways passing through locations given by this mask
        flag: --avoid=%s
c_thresh: (a float)
        curvature threshold - default=0.2
        flag: --cthr=%.3f
correct_path_distribution: (a boolean)
        correct path distribution for the length of the pathways
        flag: --pd
dist_thresh: (a float)
        discards samples shorter than this threshold (in mm - default=0)
        flag: --distthresh=%.3f
environ: (a dictionary with keys which are a value of type &#39;str&#39; and
         with values which are a value of type &#39;str&#39;, nipype default value:
         {})
        Environment variables
fibst: (an integer)
        force a starting fibre for tracking - default=1, i.e. first fibre
        orientation. Only works if randfib==0
        flag: --fibst=%d
force_dir: (a boolean, nipype default value: True)
        use the actual directory name given - i.e. do not add + to make a
        new directory
        flag: --forcedir
ignore_exception: (a boolean, nipype default value: False)
        Print an error message instead of throwing an exception in case the
        interface fails to run
inv_xfm: (a file name)
        transformation matrix taking DTI space to seed space (compulsory
        when using a warp_field for seeds_to_dti)
        flag: --invxfm=%s
loop_check: (a boolean)
        perform loop_checks on paths - slower, but allows lower curvature
        threshold
        flag: --loopcheck
mask2: (an existing file name)
        second bet binary mask (in diffusion space) in twomask_symm mode
        flag: --mask2=%s
mesh: (an existing file name)
        Freesurfer-type surface descriptor (in ascii format)
        flag: --mesh=%s
mod_euler: (a boolean)
        use modified euler streamlining
        flag: --modeuler
mode: (&#39;simple&#39; or &#39;two_mask_symm&#39; or &#39;seedmask&#39;)
        options: simple (single seed voxel), seedmask (mask of seed voxels),
        twomask_symm (two bet binary masks)
        flag: --mode=%s
n_samples: (an integer, nipype default value: 5000)
        number of samples - default=5000
        flag: --nsamples=%d
n_steps: (an integer)
        number of steps per sample - default=2000
        flag: --nsteps=%d
network: (a boolean)
        activate network mode - only keep paths going through at least one
        seed mask (required if multiple seed masks)
        flag: --network
opd: (a boolean, nipype default value: True)
        outputs path distributions
        flag: --opd
os2t: (a boolean)
        Outputs seeds to targets
        flag: --os2t
out_dir: (an existing directory name)
        directory to put the final volumes in
        flag: --dir=%s
output_type: (&#39;NIFTI_PAIR&#39; or &#39;NIFTI_PAIR_GZ&#39; or &#39;NIFTI_GZ&#39; or
         &#39;NIFTI&#39;)
        FSL output type
rand_fib: (0 or 1 or 2 or 3)
        options: 0 - default, 1 - to randomly sample initial fibres (with f
        &gt; fibthresh), 2 - to sample in proportion fibres (with f&gt;fibthresh)
        to f, 3 - to sample ALL populations at random (even if f&lt;fibthresh)
        flag: --randfib=%d
random_seed: (a boolean)
        random seed
        flag: --rseed
s2tastext: (a boolean)
        output seed-to-target counts as a text file (useful when seeding
        from a mesh)
        flag: --s2tastext
sample_random_points: (a boolean)
        sample random points within seed voxels
        flag: --sampvox
samples_base_name: (a string, nipype default value: merged)
        the rootname/base_name for samples files
        flag: --samples=%s
seed_ref: (an existing file name)
        reference vol to define seed space in simple mode - diffusion space
        assumed if absent
        flag: --seedref=%s
step_length: (a float)
        step_length in mm - default=0.5
        flag: --steplength=%.3f
stop_mask: (an existing file name)
        stop tracking at locations given by this mask file
        flag: --stop=%s
target_masks: (a list of items which are a file name)
        list of target masks - required for seeds_to_targets classification
        flag: --targetmasks=%s
terminal_output: (&#39;stream&#39; or &#39;allatonce&#39; or &#39;file&#39; or &#39;none&#39;)
        Control terminal output: `stream` - displays to terminal immediately
        (default), `allatonce` - waits till command is finished to display
        output, `file` - writes output to file, `none` - output is ignored
use_anisotropy: (a boolean)
        use anisotropy to constrain tracking
        flag: --usef
verbose: (0 or 1 or 2)
        Verbose level, [0-2].Level 2 is required to output particle files.
        flag: --verbose=%d
waypoints: (an existing file name)
        waypoint mask or ascii list of waypoint masks - only keep paths
        going through ALL the masks
        flag: --waypoints=%s
xfm: (an existing file name)
        transformation matrix taking seed space to DTI space (either FLIRT
        matrix or FNIRT warp_field) - default is identity
        flag: --xfm=%s
</pre></div>
</div>
<p>Outputs:</p>
<div class="highlight-python"><div class="highlight"><pre>fdt_paths: (a list of items which are an existing file name)
        path/name of a 3D image file containing the output connectivity
        distribution to the seed mask
log: (an existing file name)
        path/name of a text record of the command that was run
particle_files: (a list of items which are an existing file name)
        Files describing all of the tract samples. Generated only if verbose
        is set to 2
targets: (a list of items which are an existing file name)
        a list with all generated seeds_to_target files
way_total: (an existing file name)
        path/name of a text file containing a single number corresponding to
        the total number of generated tracts that have not been rejected by
        inclusion/exclusion mask criteria
</pre></div>
</div>
<span class="target" id="nipype-interfaces-fsl-dti-probtrackx2"></span></div>
</div>
<div class="section" id="probtrackx2">
<span id="index-8"></span><h2>ProbTrackX2<a class="headerlink" href="#probtrackx2" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/3444b7588a1dea15675dc8a4f5be5f8b753adbd8/nipype/interfaces/fsl/dti.py#L898">Link to code</a></p>
<p>Wraps command <strong>probtrackx2</strong></p>
<p>Use FSL  probtrackx2 for tractography on bedpostx results</p>
<div class="section" id="id5">
<h3>Examples<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nipype.interfaces</span> <span class="kn">import</span> <span class="n">fsl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pbx2</span> <span class="o">=</span> <span class="n">fsl</span><span class="o">.</span><span class="n">ProbTrackX2</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pbx2</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">seed</span> <span class="o">=</span> <span class="s">&#39;seed_source.nii.gz&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pbx2</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">thsamples</span> <span class="o">=</span> <span class="s">&#39;merged_th1samples.nii.gz&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pbx2</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">fsamples</span> <span class="o">=</span> <span class="s">&#39;merged_f1samples.nii.gz&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pbx2</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">phsamples</span> <span class="o">=</span> <span class="s">&#39;merged_ph1samples.nii.gz&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pbx2</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">mask</span> <span class="o">=</span> <span class="s">&#39;nodif_brain_mask.nii.gz&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pbx2</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">out_dir</span> <span class="o">=</span> <span class="s">&#39;.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pbx2</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">n_samples</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pbx2</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">n_steps</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pbx2</span><span class="o">.</span><span class="n">cmdline</span>
<span class="go">&#39;probtrackx2 --forcedir -m nodif_brain_mask.nii.gz --nsamples=3 --nsteps=10 --opd --dir=. --samples=merged --seed=seed_source.nii.gz&#39;</span>
</pre></div>
</div>
<p>Inputs:</p>
<div class="highlight-python"><div class="highlight"><pre>[Mandatory]
fsamples: (a list of items which are an existing file name)
mask: (an existing file name)
        bet binary mask file in diffusion space
        flag: -m %s
phsamples: (a list of items which are an existing file name)
seed: (an existing file name or a list of items which are an existing
         file name or a list of items which are a list of from 3 to 3 items
         which are an integer)
        seed volume(s), or voxel(s)or freesurfer label file
        flag: --seed=%s
thsamples: (a list of items which are an existing file name)

[Optional]
args: (a string)
        Additional parameters to the command
        flag: %s
avoid_mp: (an existing file name)
        reject pathways passing through locations given by this mask
        flag: --avoid=%s
c_thresh: (a float)
        curvature threshold - default=0.2
        flag: --cthr=%.3f
colmask4: (an existing file name)
        Mask for columns of matrix4 (default=seed mask)
        flag: --colmask4=%s
correct_path_distribution: (a boolean)
        correct path distribution for the length of the pathways
        flag: --pd
dist_thresh: (a float)
        discards samples shorter than this threshold (in mm - default=0)
        flag: --distthresh=%.3f
distthresh1: (a float)
        Discards samples (in matrix1) shorter than this threshold (in mm -
        default=0)
        flag: --distthresh1=%.3f
distthresh3: (a float)
        Discards samples (in matrix3) shorter than this threshold (in mm -
        default=0)
        flag: --distthresh3=%.3f
environ: (a dictionary with keys which are a value of type &#39;str&#39; and
         with values which are a value of type &#39;str&#39;, nipype default value:
         {})
        Environment variables
fibst: (an integer)
        force a starting fibre for tracking - default=1, i.e. first fibre
        orientation. Only works if randfib==0
        flag: --fibst=%d
fopd: (an existing file name)
        Other mask for binning tract distribution
        flag: --fopd=%s
force_dir: (a boolean, nipype default value: True)
        use the actual directory name given - i.e. do not add + to make a
        new directory
        flag: --forcedir
ignore_exception: (a boolean, nipype default value: False)
        Print an error message instead of throwing an exception in case the
        interface fails to run
inv_xfm: (a file name)
        transformation matrix taking DTI space to seed space (compulsory
        when using a warp_field for seeds_to_dti)
        flag: --invxfm=%s
loop_check: (a boolean)
        perform loop_checks on paths - slower, but allows lower curvature
        threshold
        flag: --loopcheck
lrtarget3: (an existing file name)
        Column-space mask used for Nxn connectivity matrix
        flag: --lrtarget3=%s
meshspace: (&#39;caret&#39; or &#39;freesurfer&#39; or &#39;first&#39; or &#39;vox&#39;)
        Mesh reference space - either &quot;caret&quot; (default) or &quot;freesurfer&quot; or
        &quot;first&quot; or &quot;vox&quot;
        flag: --meshspace=%s
mod_euler: (a boolean)
        use modified euler streamlining
        flag: --modeuler
n_samples: (an integer, nipype default value: 5000)
        number of samples - default=5000
        flag: --nsamples=%d
n_steps: (an integer)
        number of steps per sample - default=2000
        flag: --nsteps=%d
network: (a boolean)
        activate network mode - only keep paths going through at least one
        seed mask (required if multiple seed masks)
        flag: --network
omatrix1: (a boolean)
        Output matrix1 - SeedToSeed Connectivity
        flag: --omatrix1
omatrix2: (a boolean)
        Output matrix2 - SeedToLowResMask
        flag: --omatrix2
        requires: target2
omatrix3: (a boolean)
        Output matrix3 (NxN connectivity matrix)
        flag: --omatrix3
        requires: target3, lrtarget3
omatrix4: (a boolean)
        Output matrix4 - DtiMaskToSeed (special Oxford Sparse Format)
        flag: --omatrix4
onewaycondition: (a boolean)
        Apply waypoint conditions to each half tract separately
        flag: --onewaycondition
opd: (a boolean, nipype default value: True)
        outputs path distributions
        flag: --opd
os2t: (a boolean)
        Outputs seeds to targets
        flag: --os2t
out_dir: (an existing directory name)
        directory to put the final volumes in
        flag: --dir=%s
output_type: (&#39;NIFTI_PAIR&#39; or &#39;NIFTI_PAIR_GZ&#39; or &#39;NIFTI_GZ&#39; or
         &#39;NIFTI&#39;)
        FSL output type
rand_fib: (0 or 1 or 2 or 3)
        options: 0 - default, 1 - to randomly sample initial fibres (with f
        &gt; fibthresh), 2 - to sample in proportion fibres (with f&gt;fibthresh)
        to f, 3 - to sample ALL populations at random (even if f&lt;fibthresh)
        flag: --randfib=%d
random_seed: (a boolean)
        random seed
        flag: --rseed
s2tastext: (a boolean)
        output seed-to-target counts as a text file (useful when seeding
        from a mesh)
        flag: --s2tastext
sample_random_points: (a boolean)
        sample random points within seed voxels
        flag: --sampvox
samples_base_name: (a string, nipype default value: merged)
        the rootname/base_name for samples files
        flag: --samples=%s
seed_ref: (an existing file name)
        reference vol to define seed space in simple mode - diffusion space
        assumed if absent
        flag: --seedref=%s
simple: (a boolean)
        rack from a list of voxels (seed must be a ASCII list of
        coordinates)
        flag: --simple
step_length: (a float)
        step_length in mm - default=0.5
        flag: --steplength=%.3f
stop_mask: (an existing file name)
        stop tracking at locations given by this mask file
        flag: --stop=%s
target2: (an existing file name)
        Low resolution binary brain mask for storing connectivity
        distribution in matrix2 mode
        flag: --target2=%s
target3: (an existing file name)
        Mask used for NxN connectivity matrix (or Nxn if lrtarget3 is set)
        flag: --target3=%s
target4: (an existing file name)
        Brain mask in DTI space
        flag: --target4=%s
target_masks: (a list of items which are a file name)
        list of target masks - required for seeds_to_targets classification
        flag: --targetmasks=%s
terminal_output: (&#39;stream&#39; or &#39;allatonce&#39; or &#39;file&#39; or &#39;none&#39;)
        Control terminal output: `stream` - displays to terminal immediately
        (default), `allatonce` - waits till command is finished to display
        output, `file` - writes output to file, `none` - output is ignored
use_anisotropy: (a boolean)
        use anisotropy to constrain tracking
        flag: --usef
verbose: (0 or 1 or 2)
        Verbose level, [0-2].Level 2 is required to output particle files.
        flag: --verbose=%d
waycond: (&#39;OR&#39; or &#39;AND&#39;)
        Waypoint condition. Either &quot;AND&quot; (default) or &quot;OR&quot;
        flag: --waycond=%s
wayorder: (a boolean)
        Reject streamlines that do not hit waypoints in given order. Only
        valid if waycond=AND
        flag: --wayorder
waypoints: (an existing file name)
        waypoint mask or ascii list of waypoint masks - only keep paths
        going through ALL the masks
        flag: --waypoints=%s
xfm: (an existing file name)
        transformation matrix taking seed space to DTI space (either FLIRT
        matrix or FNIRT warp_field) - default is identity
        flag: --xfm=%s
</pre></div>
</div>
<p>Outputs:</p>
<div class="highlight-python"><div class="highlight"><pre>fdt_paths: (a list of items which are an existing file name)
        path/name of a 3D image file containing the output connectivity
        distribution to the seed mask
log: (an existing file name)
        path/name of a text record of the command that was run
lookup_tractspace: (an existing file name)
        lookup_tractspace generated by --omatrix2 option
matrix1_dot: (an existing file name)
        Output matrix1.dot - SeedToSeed Connectivity
matrix2_dot: (an existing file name)
        Output matrix2.dot - SeedToLowResMask
matrix3_dot: (an existing file name)
        Output matrix3 - NxN connectivity matrix
network_matrix: (an existing file name)
        the network matrix generated by --omatrix1 option
particle_files: (a list of items which are an existing file name)
        Files describing all of the tract samples. Generated only if verbose
        is set to 2
targets: (a list of items which are an existing file name)
        a list with all generated seeds_to_target files
way_total: (an existing file name)
        path/name of a text file containing a single number corresponding to
        the total number of generated tracts that have not been rejected by
        inclusion/exclusion mask criteria
</pre></div>
</div>
<span class="target" id="nipype-interfaces-fsl-dti-projthresh"></span></div>
</div>
<div class="section" id="projthresh">
<span id="index-9"></span><h2>ProjThresh<a class="headerlink" href="#projthresh" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/3444b7588a1dea15675dc8a4f5be5f8b753adbd8/nipype/interfaces/fsl/dti.py#L1032">Link to code</a></p>
<p>Wraps command <strong>proj_thresh</strong></p>
<p>Use FSL proj_thresh for thresholding some outputs of probtrack
For complete details, see the FDT Documentation
&lt;<a class="reference external" href="http://www.fmrib.ox.ac.uk/fsl/fdt/fdt_thresh.html">http://www.fmrib.ox.ac.uk/fsl/fdt/fdt_thresh.html</a>&gt;</p>
<div class="section" id="id6">
<h3>Example<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nipype.interfaces</span> <span class="kn">import</span> <span class="n">fsl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ldir</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;seeds_to_M1.nii&#39;</span><span class="p">,</span> <span class="s">&#39;seeds_to_M2.nii&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pThresh</span> <span class="o">=</span> <span class="n">fsl</span><span class="o">.</span><span class="n">ProjThresh</span><span class="p">(</span><span class="n">in_files</span><span class="o">=</span><span class="n">ldir</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pThresh</span><span class="o">.</span><span class="n">cmdline</span>
<span class="go">&#39;proj_thresh seeds_to_M1.nii seeds_to_M2.nii 3&#39;</span>
</pre></div>
</div>
<p>Inputs:</p>
<div class="highlight-python"><div class="highlight"><pre>[Mandatory]
in_files: (a list of items which are an existing file name)
        a list of input volumes
        flag: %s, position: 0
threshold: (an integer)
        threshold indicating minimum number of seed voxels entering this
        mask region
        flag: %d, position: 1

[Optional]
args: (a string)
        Additional parameters to the command
        flag: %s
environ: (a dictionary with keys which are a value of type &#39;str&#39; and
         with values which are a value of type &#39;str&#39;, nipype default value:
         {})
        Environment variables
ignore_exception: (a boolean, nipype default value: False)
        Print an error message instead of throwing an exception in case the
        interface fails to run
output_type: (&#39;NIFTI_PAIR&#39; or &#39;NIFTI_PAIR_GZ&#39; or &#39;NIFTI_GZ&#39; or
         &#39;NIFTI&#39;)
        FSL output type
terminal_output: (&#39;stream&#39; or &#39;allatonce&#39; or &#39;file&#39; or &#39;none&#39;)
        Control terminal output: `stream` - displays to terminal immediately
        (default), `allatonce` - waits till command is finished to display
        output, `file` - writes output to file, `none` - output is ignored
</pre></div>
</div>
<p>Outputs:</p>
<div class="highlight-python"><div class="highlight"><pre>out_files: (a list of items which are an existing file name)
        path/name of output volume after thresholding
</pre></div>
</div>
<span class="target" id="nipype-interfaces-fsl-dti-tractskeleton"></span></div>
</div>
<div class="section" id="tractskeleton">
<span id="index-10"></span><h2>TractSkeleton<a class="headerlink" href="#tractskeleton" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/3444b7588a1dea15675dc8a4f5be5f8b753adbd8/nipype/interfaces/fsl/dti.py#L1143">Link to code</a></p>
<p>Wraps command <strong>tbss_skeleton</strong></p>
<p>Use FSL&#8217;s tbss_skeleton to skeletonise an FA image or project arbitrary values onto a skeleton.</p>
<p>There are two ways to use this interface.  To create a skeleton from an FA image, just
supply the <tt class="docutils literal"><span class="pre">in_file</span></tt> and set <tt class="docutils literal"><span class="pre">skeleton_file</span></tt> to True (or specify a skeleton filename.
To project values onto a skeleton, you must set <tt class="docutils literal"><span class="pre">project_data</span></tt> to True, and then also
supply values for <tt class="docutils literal"><span class="pre">threshold</span></tt>, <tt class="docutils literal"><span class="pre">distance_map</span></tt>, and <tt class="docutils literal"><span class="pre">data_file</span></tt>. The <tt class="docutils literal"><span class="pre">search_mask_file</span></tt>
and <tt class="docutils literal"><span class="pre">use_cingulum_mask</span></tt> inputs are also used in data projection, but <tt class="docutils literal"><span class="pre">use_cingulum_mask</span></tt>
is set to True by default.  This mask controls where the projection algorithm searches
within a circular space around a tract, rather than in a single perpindicular direction.</p>
<div class="section" id="id7">
<h3>Example<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">nipype.interfaces.fsl</span> <span class="kn">as</span> <span class="nn">fsl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skeletor</span> <span class="o">=</span> <span class="n">fsl</span><span class="o">.</span><span class="n">TractSkeleton</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skeletor</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">in_file</span> <span class="o">=</span> <span class="s">&quot;all_FA.nii.gz&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skeletor</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">skeleton_file</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">skeletor</span><span class="o">.</span><span class="n">run</span><span class="p">()</span> 
</pre></div>
</div>
<p>Inputs:</p>
<div class="highlight-python"><div class="highlight"><pre>[Mandatory]
in_file: (an existing file name)
        input image (typcially mean FA volume)
        flag: -i %s

[Optional]
alt_data_file: (an existing file name)
        4D non-FA data to project onto skeleton
        flag: -a %s
alt_skeleton: (an existing file name)
        alternate skeleton to use
        flag: -s %s
args: (a string)
        Additional parameters to the command
        flag: %s
data_file: (an existing file name)
        4D data to project onto skeleton (usually FA)
distance_map: (an existing file name)
        distance map image
environ: (a dictionary with keys which are a value of type &#39;str&#39; and
         with values which are a value of type &#39;str&#39;, nipype default value:
         {})
        Environment variables
ignore_exception: (a boolean, nipype default value: False)
        Print an error message instead of throwing an exception in case the
        interface fails to run
output_type: (&#39;NIFTI_PAIR&#39; or &#39;NIFTI_PAIR_GZ&#39; or &#39;NIFTI_GZ&#39; or
         &#39;NIFTI&#39;)
        FSL output type
project_data: (a boolean)
        project data onto skeleton
        flag: -p %.3f %s %s %s %s
        requires: threshold, distance_map, data_file
projected_data: (a file name)
        input data projected onto skeleton
search_mask_file: (an existing file name)
        mask in which to use alternate search rule
        mutually_exclusive: use_cingulum_mask
skeleton_file: (a boolean or a file name)
        write out skeleton image
        flag: -o %s
terminal_output: (&#39;stream&#39; or &#39;allatonce&#39; or &#39;file&#39; or &#39;none&#39;)
        Control terminal output: `stream` - displays to terminal immediately
        (default), `allatonce` - waits till command is finished to display
        output, `file` - writes output to file, `none` - output is ignored
threshold: (a float)
        skeleton threshold value
use_cingulum_mask: (a boolean, nipype default value: True)
        perform alternate search using built-in cingulum mask
        mutually_exclusive: search_mask_file
</pre></div>
</div>
<p>Outputs:</p>
<div class="highlight-python"><div class="highlight"><pre>projected_data: (a file name)
        input data projected onto skeleton
skeleton_file: (a file name)
        tract skeleton image
</pre></div>
</div>
<span class="target" id="nipype-interfaces-fsl-dti-vecreg"></span></div>
</div>
<div class="section" id="vecreg">
<span id="index-11"></span><h2>VecReg<a class="headerlink" href="#vecreg" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/3444b7588a1dea15675dc8a4f5be5f8b753adbd8/nipype/interfaces/fsl/dti.py#L973">Link to code</a></p>
<p>Wraps command <strong>vecreg</strong></p>
<p>Use FSL vecreg for registering vector data
For complete details, see the FDT Documentation
&lt;<a class="reference external" href="http://www.fmrib.ox.ac.uk/fsl/fdt/fdt_vecreg.html">http://www.fmrib.ox.ac.uk/fsl/fdt/fdt_vecreg.html</a>&gt;</p>
<div class="section" id="id8">
<h3>Example<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nipype.interfaces</span> <span class="kn">import</span> <span class="n">fsl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vreg</span> <span class="o">=</span> <span class="n">fsl</span><span class="o">.</span><span class="n">VecReg</span><span class="p">(</span><span class="n">in_file</span><span class="o">=</span><span class="s">&#39;diffusion.nii&#39;</span><span class="p">,</span>                  <span class="n">affine_mat</span><span class="o">=</span><span class="s">&#39;trans.mat&#39;</span><span class="p">,</span>                  <span class="n">ref_vol</span><span class="o">=</span><span class="s">&#39;mni.nii&#39;</span><span class="p">,</span>                  <span class="n">out_file</span><span class="o">=</span><span class="s">&#39;diffusion_vreg.nii&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vreg</span><span class="o">.</span><span class="n">cmdline</span>
<span class="go">&#39;vecreg -t trans.mat -i diffusion.nii -o diffusion_vreg.nii -r mni.nii&#39;</span>
</pre></div>
</div>
<p>Inputs:</p>
<div class="highlight-python"><div class="highlight"><pre>[Mandatory]
in_file: (an existing file name)
        filename for input vector or tensor field
        flag: -i %s
ref_vol: (an existing file name)
        filename for reference (target) volume
        flag: -r %s

[Optional]
affine_mat: (an existing file name)
        filename for affine transformation matrix
        flag: -t %s
args: (a string)
        Additional parameters to the command
        flag: %s
environ: (a dictionary with keys which are a value of type &#39;str&#39; and
         with values which are a value of type &#39;str&#39;, nipype default value:
         {})
        Environment variables
ignore_exception: (a boolean, nipype default value: False)
        Print an error message instead of throwing an exception in case the
        interface fails to run
interpolation: (&#39;nearestneighbour&#39; or &#39;trilinear&#39; or &#39;sinc&#39; or
         &#39;spline&#39;)
        interpolation method : nearestneighbour, trilinear (default), sinc
        or spline
        flag: --interp=%s
mask: (an existing file name)
        brain mask in input space
        flag: -m %s
out_file: (a file name)
        filename for output registered vector or tensor field
        flag: -o %s
output_type: (&#39;NIFTI_PAIR&#39; or &#39;NIFTI_PAIR_GZ&#39; or &#39;NIFTI_GZ&#39; or
         &#39;NIFTI&#39;)
        FSL output type
ref_mask: (an existing file name)
        brain mask in output space (useful for speed up of nonlinear reg)
        flag: --refmask=%s
rotation_mat: (an existing file name)
        filename for secondary affine matrixif set, this will be used for
        the rotation of the vector/tensor field
        flag: --rotmat=%s
rotation_warp: (an existing file name)
        filename for secondary warp fieldif set, this will be used for the
        rotation of the vector/tensor field
        flag: --rotwarp=%s
terminal_output: (&#39;stream&#39; or &#39;allatonce&#39; or &#39;file&#39; or &#39;none&#39;)
        Control terminal output: `stream` - displays to terminal immediately
        (default), `allatonce` - waits till command is finished to display
        output, `file` - writes output to file, `none` - output is ignored
warp_field: (an existing file name)
        filename for 4D warp field for nonlinear registration
        flag: -w %s
</pre></div>
</div>
<p>Outputs:</p>
<div class="highlight-python"><div class="highlight"><pre>out_file: (an existing file name)
        path/name of filename for the registered vector or tensor field
</pre></div>
</div>
<span class="target" id="nipype-interfaces-fsl-dti-xfibres"></span></div>
</div>
<div class="section" id="xfibres">
<span id="index-12"></span><h2>XFibres<a class="headerlink" href="#xfibres" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/3444b7588a1dea15675dc8a4f5be5f8b753adbd8/nipype/interfaces/fsl/dti.py#L635">Link to code</a></p>
<p>Wraps command <strong>xfibres</strong></p>
<p>Inputs:</p>
<div class="highlight-python"><div class="highlight"><pre>[Mandatory]
bvals: (an existing file name)
        b values file
        flag: --bvals=%s
bvecs: (an existing file name)
        b vectors file
        flag: --bvecs=%s
dwi: (an existing file name)
        diffusion weighted image data file
        flag: --data=%s
mask: (an existing file name)
        brain binary mask file (i.e. from BET)
        flag: --mask=%s

[Optional]
all_ard: (a boolean)
        Turn ARD on on all fibres
        flag: --allard
        mutually_exclusive: no_ard, all_ard
args: (a string)
        Additional parameters to the command
        flag: %s
burn_in: (an integer &gt;= 0)
        Total num of jumps at start of MCMC to be discarded
        flag: --burnin=%d
burn_in_no_ard: (an integer &gt;= 0)
        num of burnin jumps before the ard is imposed
        flag: --burninnoard=%d
cnlinear: (a boolean)
        Initialise with constrained nonlinear fitting
        flag: --cnonlinear
        mutually_exclusive: no_spat, non_linear, cnlinear
environ: (a dictionary with keys which are a value of type &#39;str&#39; and
         with values which are a value of type &#39;str&#39;, nipype default value:
         {})
        Environment variables
f0_ard: (a boolean)
        Noise floor model: add to the model an unattenuated signal
        compartment f0
        flag: --f0 --ardf0
        mutually_exclusive: f0_noard, f0_ard, all_ard
f0_noard: (a boolean)
        Noise floor model: add to the model an unattenuated signal
        compartment f0
        flag: --f0
        mutually_exclusive: f0_noard, f0_ard
force_dir: (a boolean, nipype default value: True)
        use the actual directory name given (do not add + to make a new
        directory)
        flag: --forcedir
fudge: (an integer)
        ARD fudge factor
        flag: --fudge=%d
gradnonlin: (an existing file name)
        gradient file corresponding to slice
        flag: --gradnonlin=%s
ignore_exception: (a boolean, nipype default value: False)
        Print an error message instead of throwing an exception in case the
        interface fails to run
logdir: (a directory name, nipype default value: .)
        flag: --logdir=%s
model: (1 or 2)
        use monoexponential (1, default, required for single-shell) or
        multiexponential (2, multi-shell) model
        flag: --model=%d
n_fibres: (an integer &gt;= 1)
        Maximum number of fibres to fit in each voxel
        flag: --nfibres=%d
n_jumps: (an integer)
        Num of jumps to be made by MCMC
        flag: --njumps=%d
no_ard: (a boolean)
        Turn ARD off on all fibres
        flag: --noard
        mutually_exclusive: no_ard, all_ard
no_spat: (a boolean)
        Initialise with tensor, not spatially
        flag: --nospat
        mutually_exclusive: no_spat, non_linear, cnlinear
non_linear: (a boolean)
        Initialise with nonlinear fitting
        flag: --nonlinear
        mutually_exclusive: no_spat, non_linear, cnlinear
output_type: (&#39;NIFTI_PAIR&#39; or &#39;NIFTI_PAIR_GZ&#39; or &#39;NIFTI_GZ&#39; or
         &#39;NIFTI&#39;)
        FSL output type
rician: (a boolean)
        use Rician noise modeling
        flag: --rician
sample_every: (an integer &gt;= 0)
        Num of jumps for each sample (MCMC)
        flag: --sampleevery=%d
seed: (an integer)
        seed for pseudo random number generator
        flag: --seed=%d
terminal_output: (&#39;stream&#39; or &#39;allatonce&#39; or &#39;file&#39; or &#39;none&#39;)
        Control terminal output: `stream` - displays to terminal immediately
        (default), `allatonce` - waits till command is finished to display
        output, `file` - writes output to file, `none` - output is ignored
update_proposal_every: (an integer &gt;= 1)
        Num of jumps for each update to the proposal density std (MCMC)
        flag: --updateproposalevery=%d
</pre></div>
</div>
<p>Outputs:</p>
<div class="highlight-python"><div class="highlight"><pre>d_stdsamples: (a file name)
        Std of samples from the distribution d
dsamples: (a file name)
        Samples from the distribution on diffusivity d
dyads: (a list of items which are a file name)
        Mean of PDD distribution in vector form.
fsamples: (a list of items which are a file name)
        Samples from the distribution on f anisotropy
mean_S0samples: (a file name)
        Mean of distribution on T2wbaseline signal intensity S0
mean_d_stdsamples: (a file name)
        Mean of distribution on diffusivity d
mean_dsamples: (a file name)
        Mean of distribution on diffusivity d
mean_fsamples: (a list of items which are a file name)
        Mean of distribution on f anisotropy
mean_tausamples: (a file name)
        Mean of distribution on tau samples (only with rician noise)
phsamples: (a list of items which are a file name)
        phi samples, per fiber
thsamples: (a list of items which are a file name)
        theta samples, per fiber
</pre></div>
</div>
<span class="target" id="nipype-interfaces-fsl-dti-xfibres4"></span></div>
<div class="section" id="xfibres4">
<span id="index-13"></span><h2>XFibres4<a class="headerlink" href="#xfibres4" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/3444b7588a1dea15675dc8a4f5be5f8b753adbd8/nipype/interfaces/fsl/dti.py#L435">Link to code</a></p>
<p>Wraps command <strong>xfibres</strong></p>
<p>Perform model parameters estimation for local (voxelwise) diffusion
parameters</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.9.2: </span>Use <tt class="xref py py-class docutils literal"><span class="pre">XFibres5</span></tt> instead.</p>
</div>
<p>Inputs:</p>
<div class="highlight-python"><div class="highlight"><pre>[Mandatory]
bvals: (an existing file name)
        flag: --bvals=%s
bvecs: (an existing file name)
        flag: --bvecs=%s
dwi: (an existing file name)
        flag: --data=%s
mask: (an existing file name)
        flag: --mask=%s

[Optional]
all_ard: (a boolean)
        Turn ARD on on all fibres
        flag: --allard
        mutually_exclusive: no_ard, all_ard
args: (a string)
        Additional parameters to the command
        flag: %s
burn_in: (an integer &gt;= 0)
        Total num of jumps at start of MCMC to be discarded
        flag: --burnin=%d
burn_in_no_ard: (an integer &gt;= 0)
        num of burnin jumps before the ard is imposed
        flag: --burninnoard=%d
environ: (a dictionary with keys which are a value of type &#39;str&#39; and
         with values which are a value of type &#39;str&#39;, nipype default value:
         {})
        Environment variables
force_dir: (a boolean, nipype default value: True)
        use the actual directory name given - i.e. do not add + to make a
        new directory
        flag: --forcedir
fudge: (an integer)
        ARD fudge factor
        flag: --fudge=%d
gradnonlin: (an existing file name)
        flag: --gradnonlin=%s
ignore_exception: (a boolean, nipype default value: False)
        Print an error message instead of throwing an exception in case the
        interface fails to run
logdir: (a directory name, nipype default value: logdir)
        flag: --logdir=%s
model: (an integer)
        Which model to use. 1=mono-exponential (default and required for
        single shell). 2=continous exponential (for multi-shell experiments)
        flag: --model=%d
n_fibres: (an integer &gt;= 1)
        Maximum nukmber of fibres to fit in each voxel
        flag: --nfibres=%d
n_jumps: (an integer &gt;= 1)
        Num of jumps to be made by MCMC
        flag: --njumps=%d
no_ard: (a boolean)
        Turn ARD off on all fibres
        flag: --noard
        mutually_exclusive: no_ard, all_ard
no_spat: (a boolean)
        Initialise with tensor, not spatially
        flag: --nospat
        mutually_exclusive: no_spat, non_linear
non_linear: (a boolean)
        Initialise with nonlinear fitting
        flag: --nonlinear
        mutually_exclusive: no_spat, non_linear
output_type: (&#39;NIFTI_PAIR&#39; or &#39;NIFTI_PAIR_GZ&#39; or &#39;NIFTI_GZ&#39; or
         &#39;NIFTI&#39;)
        FSL output type
sample_every: (an integer &gt;= 0)
        Num of jumps for each sample (MCMC)
        flag: --sampleevery=%d
seed: (an integer)
        seed for pseudo random number generator
        flag: --seed=%d
terminal_output: (&#39;stream&#39; or &#39;allatonce&#39; or &#39;file&#39; or &#39;none&#39;)
        Control terminal output: `stream` - displays to terminal immediately
        (default), `allatonce` - waits till command is finished to display
        output, `file` - writes output to file, `none` - output is ignored
update_proposal_every: (an integer &gt;= 1)
        Num of jumps for each update to the proposal density std (MCMC)
        flag: --updateproposalevery=%d
</pre></div>
</div>
<p>Outputs:</p>
<div class="highlight-python"><div class="highlight"><pre>dyads: (a list of items which are an existing file name)
        Mean of PDD distribution in vector form.
fsamples: (a list of items which are an existing file name)
        Samples from the distribution on anisotropic volume fraction
mean_S0samples: (an existing file name)
        Samples from S0 distribution
mean_dsamples: (an existing file name)
        Mean of distribution on diffusivity d
mean_fsamples: (a list of items which are an existing file name)
        Mean of distribution on f anisotropy
phsamples: (a list of items which are an existing file name)
        Samples from the distribution on phi
thsamples: (a list of items which are an existing file name)
        Samples from the distribution on theta
</pre></div>
</div>
<span class="target" id="nipype-interfaces-fsl-dti-xfibres5"></span></div>
<div class="section" id="xfibres5">
<span id="index-14"></span><h2>XFibres5<a class="headerlink" href="#xfibres5" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://github.com/nipy/nipype/tree/3444b7588a1dea15675dc8a4f5be5f8b753adbd8/nipype/interfaces/fsl/dti.py#L376">Link to code</a></p>
<p>Wraps command <strong>xfibres</strong></p>
<p>Perform model parameters estimation for local (voxelwise) diffusion
parameters</p>
<p>Inputs:</p>
<div class="highlight-python"><div class="highlight"><pre>[Mandatory]
bvals: (an existing file name)
        b values file
        flag: --bvals=%s
bvecs: (an existing file name)
        b vectors file
        flag: --bvecs=%s
dwi: (an existing file name)
        diffusion weighted image data file
        flag: --data=%s
mask: (an existing file name)
        brain binary mask file (i.e. from BET)
        flag: --mask=%s

[Optional]
all_ard: (a boolean)
        Turn ARD on on all fibres
        flag: --allard
        mutually_exclusive: no_ard, all_ard
args: (a string)
        Additional parameters to the command
        flag: %s
burn_in: (an integer &gt;= 0)
        Total num of jumps at start of MCMC to be discarded
        flag: --burnin=%d
burn_in_no_ard: (an integer &gt;= 0)
        num of burnin jumps before the ard is imposed
        flag: --burninnoard=%d
cnlinear: (a boolean)
        Initialise with constrained nonlinear fitting
        flag: --cnonlinear
        mutually_exclusive: no_spat, non_linear, cnlinear
environ: (a dictionary with keys which are a value of type &#39;str&#39; and
         with values which are a value of type &#39;str&#39;, nipype default value:
         {})
        Environment variables
f0_ard: (a boolean)
        Noise floor model: add to the model an unattenuated signal
        compartment f0
        flag: --f0 --ardf0
        mutually_exclusive: f0_noard, f0_ard, all_ard
f0_noard: (a boolean)
        Noise floor model: add to the model an unattenuated signal
        compartment f0
        flag: --f0
        mutually_exclusive: f0_noard, f0_ard
force_dir: (a boolean, nipype default value: True)
        use the actual directory name given (do not add + to make a new
        directory)
        flag: --forcedir
fudge: (an integer)
        ARD fudge factor
        flag: --fudge=%d
gradnonlin: (an existing file name)
        gradient file corresponding to slice
        flag: --gradnonlin=%s
ignore_exception: (a boolean, nipype default value: False)
        Print an error message instead of throwing an exception in case the
        interface fails to run
logdir: (a directory name, nipype default value: .)
        flag: --logdir=%s
model: (1 or 2)
        use monoexponential (1, default, required for single-shell) or
        multiexponential (2, multi-shell) model
        flag: --model=%d
n_fibres: (an integer &gt;= 1)
        Maximum number of fibres to fit in each voxel
        flag: --nfibres=%d
n_jumps: (an integer)
        Num of jumps to be made by MCMC
        flag: --njumps=%d
no_ard: (a boolean)
        Turn ARD off on all fibres
        flag: --noard
        mutually_exclusive: no_ard, all_ard
no_spat: (a boolean)
        Initialise with tensor, not spatially
        flag: --nospat
        mutually_exclusive: no_spat, non_linear, cnlinear
non_linear: (a boolean)
        Initialise with nonlinear fitting
        flag: --nonlinear
        mutually_exclusive: no_spat, non_linear, cnlinear
output_type: (&#39;NIFTI_PAIR&#39; or &#39;NIFTI_PAIR_GZ&#39; or &#39;NIFTI_GZ&#39; or
         &#39;NIFTI&#39;)
        FSL output type
rician: (a boolean)
        use Rician noise modeling
        flag: --rician
sample_every: (an integer &gt;= 0)
        Num of jumps for each sample (MCMC)
        flag: --sampleevery=%d
seed: (an integer)
        seed for pseudo random number generator
        flag: --seed=%d
terminal_output: (&#39;stream&#39; or &#39;allatonce&#39; or &#39;file&#39; or &#39;none&#39;)
        Control terminal output: `stream` - displays to terminal immediately
        (default), `allatonce` - waits till command is finished to display
        output, `file` - writes output to file, `none` - output is ignored
update_proposal_every: (an integer &gt;= 1)
        Num of jumps for each update to the proposal density std (MCMC)
        flag: --updateproposalevery=%d
</pre></div>
</div>
<p>Outputs:</p>
<div class="highlight-python"><div class="highlight"><pre>d_stdsamples: (a file name)
        Std of samples from the distribution d
dsamples: (a file name)
        Samples from the distribution on diffusivity d
dyads: (a list of items which are a file name)
        Mean of PDD distribution in vector form.
fsamples: (a list of items which are a file name)
        Samples from the distribution on f anisotropy
mean_S0samples: (a file name)
        Mean of distribution on T2wbaseline signal intensity S0
mean_d_stdsamples: (a file name)
        Mean of distribution on diffusivity d
mean_dsamples: (a file name)
        Mean of distribution on diffusivity d
mean_fsamples: (a list of items which are a file name)
        Mean of distribution on f anisotropy
mean_tausamples: (a file name)
        Mean of distribution on tau samples (only with rician noise)
phsamples: (a list of items which are a file name)
        phi samples, per fiber
thsamples: (a list of items which are a file name)
        theta samples, per fiber
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
        &copy; Copyright 2009-14, Neuroimaging in Python team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
</div>

  </body>
</html>