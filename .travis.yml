language: python
python:
    - "2.7"
before_install:
    - deactivate
    - sudo rmdir /dev/shm
    - sudo ln -Tsf /{run,dev}/shm
    - sudo apt-get update -qq
    - sudo apt-get install lsb-release
    - source /etc/lsb-release
    - echo ${DISTRIB_CODENAME}
    - wget -O- http://neuro.debian.net/lists/${DISTRIB_CODENAME}.us-nh.full | sudo tee /etc/apt/sources.list.d/neurodebian.sources.list
    - sudo apt-key adv --recv-keys --keyserver pgp.mit.edu 2649A5A9
    - sudo apt-get update -qq
    - sudo apt-get install -qq python-scipy python-nose
    - sudo apt-get install -qq python-networkx python-traits python-setuptools
    - sudo apt-get install -qq python-nibabel
    - sudo apt-get install -qq --no-install-recommends fsl afni
    - sudo apt-get install -qq fsl-atlases
    - source /etc/fsl/fsl.sh
    - virtualenv --system-site-packages ~/virtualenv/this
    - source ~/virtualenv/this/bin/activate
    - pip install https://github.com/RDFLib/rdflib/archive/master.zip
    - pip install https://github.com/satra/prov/archive/enh/rdf.zip
install:
    - source ~/virtualenv/this/bin/activate
    - python setup.py build_ext --inplace
script:
    - source ~/virtualenv/this/bin/activate
    - make test

